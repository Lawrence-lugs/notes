{
  "name": "Miniforge Python Environment",
  "build": {
    "dockerfile": "Dockerfile"
  },
  "customizations": {
    "vscode": {
      "settings": {
        "python.defaultInterpreterPath": "/opt/conda/bin/python",
        "python.terminal.activateEnvironment": true
      },
      "extensions": [
        "ms-python.python",
        "ms-python.vscode-pylance",
        "ms-toolsai.jupyter",
        "quarto.quarto",
        "mushan.vscode-paste-image"
      ]
    }
  },
//   "initializeCommand": "/bin/sh -lc \"if command -v xhost >/dev/null 2>&1; then xhost +localhost || true; else echo XQuartz_xhost_not_found; fi; current=$(defaults read org.xquartz.x11 enable_iglx 2>/dev/null || echo 0); if [ \\\"$current\\\" -eq 0 ]; then echo Enabling_XQuartz_indirect_GL; defaults write org.xquartz.x11 enable_iglx 1 || true; echo Restart_XQuartz_to_apply; fi\"",
//   "containerEnv": {
//     "DISPLAY": "host.docker.internal:0",
//     "SHELL": "/bin/bash",
//     "LIBGL_ALWAYS_INDIRECT": "1"
//   }

  "containerEnv": {
    "DISPLAY": ":0",
    "WAYLAND_DISPLAY": "wayland-0",
    "XDG_RUNTIME_DIR": "/mnt/wslg/runtime-dir",
    "PULSE_SERVER": "/mnt/wslg/PulseServer",
    "SHELL": "/bin/bash"
  }
  "mounts": [
    "type=bind,source=/run/desktop/mnt/host/wslg/.X11-unix,target=/tmp/.X11-unix",
    "type=bind,source=/run/desktop/mnt/host/wslg,target=/mnt/wslg",
    "type=bind,source=/usr/lib/wsl,target=/usr/lib/wsl"
  ]
}