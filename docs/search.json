[
  {
    "objectID": "slides/transistorCapacitances/transistorCapacitances.html#general-frequency-response",
    "href": "slides/transistorCapacitances/transistorCapacitances.html#general-frequency-response",
    "title": "Transistor Capacitances",
    "section": "General Frequency Response",
    "text": "General Frequency Response\nMost amplifiers have a frequency response that looks like the following:"
  },
  {
    "objectID": "slides/transistorCapacitances/transistorCapacitances.html#everything-is-a-capacitor",
    "href": "slides/transistorCapacitances/transistorCapacitances.html#everything-is-a-capacitor",
    "title": "Transistor Capacitances",
    "section": "Everything is a capacitor",
    "text": "Everything is a capacitor\n\nIf something holds charge, it is a capacitor.\n\\[C = \\frac{dQ}{dV} \\]\n\n\nHence, everywhere in semiconductor devices where there are holes and electrons moving in and out there is capacitance."
  },
  {
    "objectID": "slides/transistorCapacitances/transistorCapacitances.html#bjt-parasitics-1",
    "href": "slides/transistorCapacitances/transistorCapacitances.html#bjt-parasitics-1",
    "title": "Transistor Capacitances",
    "section": "BJT Parasitics",
    "text": "BJT Parasitics\n\n\nThere are two main parasitic capacitances in a BJT:\n\n\nBase-Emitter Capacitance \\(C_{\\pi} = C_b + C_{je}\\) (Base Charging Capacitance + Base-Emitter Junction Capacitance)\nBase-Collector Capacitance \\(C_{\\mu}\\)"
  },
  {
    "objectID": "slides/transistorCapacitances/transistorCapacitances.html#the-base-charging-capacitance-c_b",
    "href": "slides/transistorCapacitances/transistorCapacitances.html#the-base-charging-capacitance-c_b",
    "title": "Transistor Capacitances",
    "section": "The base charging capacitance \\(C_b\\)",
    "text": "The base charging capacitance \\(C_b\\)\n\nBefore we start using the BJT, there is effectively “no charge” in the base region.\n\n\nHowever, as we turn the BJT on, the emitter starts to inject carriers (charge) into the base."
  },
  {
    "objectID": "slides/transistorCapacitances/transistorCapacitances.html#the-base-charging-capacitance-c_b-1",
    "href": "slides/transistorCapacitances/transistorCapacitances.html#the-base-charging-capacitance-c_b-1",
    "title": "Transistor Capacitances",
    "section": "The base charging capacitance \\(C_b\\)",
    "text": "The base charging capacitance \\(C_b\\)\n\nThe amount of carrier charge entering/exiting the base per second is \\(I_{C}\\)\n\n\nIf the amount of time a carrier spends in the base is \\(\\tau_F\\), then the total charge stored in the base is: \\[ Q_B =  I_C \\tau_F \\]\n\n\nSo then a change in \\(V_{BE}\\) can cause a change in \\(Q_B\\) through \\(I_C\\):\n\n\n\n\\[ C_b = \\frac{dQ_B}{dV_{BE}} \\]\n\n\n\\[ C_b = \\frac{dQ_B}{dV_{BE}} = \\frac{d(I_C \\tau_F)}{dV_{BE}} \\]\n\n\n\\[ C_b = \\frac{dQ_B}{dV_{BE}} = \\frac{d(I_C \\tau_F)}{dV_{BE}} = \\tau_F \\frac{dI_C}{dV_{BE}} \\]\n\n\n\nHence,\n\\[ C_b = \\tau_F g_m \\]"
  },
  {
    "objectID": "slides/transistorCapacitances/transistorCapacitances.html#the-be-junction-capacitance-c_je",
    "href": "slides/transistorCapacitances/transistorCapacitances.html#the-be-junction-capacitance-c_je",
    "title": "Transistor Capacitances",
    "section": "The BE Junction Capacitance \\(C_{je}\\)",
    "text": "The BE Junction Capacitance \\(C_{je}\\)\n\n\nA depletion region is a region with charges.\n\n\n\n\n\n\nAs we discussed before, the width of the depletion region changes with applied voltage. It is known that \\(W_{dep} \\propto \\sqrt{V_{bi} - V_{BE}}\\)."
  },
  {
    "objectID": "slides/transistorCapacitances/transistorCapacitances.html#the-be-junction-capacitance-c_je-1",
    "href": "slides/transistorCapacitances/transistorCapacitances.html#the-be-junction-capacitance-c_je-1",
    "title": "Transistor Capacitances",
    "section": "The BE Junction Capacitance \\(C_{je}\\)",
    "text": "The BE Junction Capacitance \\(C_{je}\\)\n\nHence, since \\(Q_{dep} \\propto W_{dep}\\), we have that some constant of proportionality \\(\\alpha\\) exists such that:\n\n\n\\[ Q_{dep} = \\alpha \\sqrt{V_{bi} - V_{BE}} \\]\n\n\n\\[ C_{je} = \\left|\\frac{dQ_{dep}}{dV_{BE}}\\right| = \\left|\\alpha \\frac{d(\\sqrt{V_{bi} - V_{BE}})}{dV_{BE}}\\right| = \\left|-\\frac{\\alpha}{2\\sqrt{V_{bi} - V_{BE}}}\\right|  = \\frac{\\alpha}{2\\sqrt{V_{bi}}\\sqrt{1 - V_{BE}/V_{bi}}}\\]\n\n\nWe can treat \\(\\frac{\\alpha}{2\\sqrt{V_{bi}}}\\) as a constant \\(C_{je0}\\):\n\\[ C_{je} = \\frac{C_{je0}}{\\sqrt{1 - V_{BE}/V_{bi}}} = \\frac{C_{je0}}{\\sqrt{1 - V_{BE}/V_{j,BE}}} \\]\n\n\nand we see that \\(C_{je0}\\) is base-emitter junction capacitance measured at \\(V_{BE} = 0\\) V. We also typically refer to \\(V_{bi}\\) for the BE junction as \\(V_{j,BE}\\)."
  },
  {
    "objectID": "slides/transistorCapacitances/transistorCapacitances.html#the-be-junction-capacitance-c_je-2",
    "href": "slides/transistorCapacitances/transistorCapacitances.html#the-be-junction-capacitance-c_je-2",
    "title": "Transistor Capacitances",
    "section": "The BE Junction Capacitance \\(C_{je}\\)",
    "text": "The BE Junction Capacitance \\(C_{je}\\)\n\\[\\frac{C_{je0}}{\\sqrt{1 - V_{BE}/V_{j,BE}}}\\]"
  },
  {
    "objectID": "slides/transistorCapacitances/transistorCapacitances.html#the-bc-junction-capacitance-c_mu",
    "href": "slides/transistorCapacitances/transistorCapacitances.html#the-bc-junction-capacitance-c_mu",
    "title": "Transistor Capacitances",
    "section": "The BC Junction Capacitance \\(C_{\\mu}\\)",
    "text": "The BC Junction Capacitance \\(C_{\\mu}\\)\nLikewise, the BC junction’s depletion region also has a capacitance. We call this \\(C_{\\mu}\\).\nSince it’s usually reverse biased, we replace \\(V_{BE}\\) with \\(V_{CB}\\) and negate the sign in the denominator:\n\\[ C_{\\mu} = \\frac{C_{\\mu0}}{\\sqrt{1 + V_{CB}/V_{j,CB}}} \\]\n\n\n\n\n\n\n\nNote\n\n\nWe call it \\(C_\\mu\\) and not \\(C_{jc}\\) because of its position in the small-signal equivalent. \\(\\mu\\) is traditionally used to represent voltage feedback from output to input in the hybrid-pi model."
  },
  {
    "objectID": "slides/transistorCapacitances/transistorCapacitances.html#bjt-parasitics-summary",
    "href": "slides/transistorCapacitances/transistorCapacitances.html#bjt-parasitics-summary",
    "title": "Transistor Capacitances",
    "section": "BJT Parasitics Summary",
    "text": "BJT Parasitics Summary\n\n\n\n\n\\(C\\mu\\) - Junction capacitance between B and C\n\\(C_\\pi = C_b + C_{je}\\)\n\n\\(C_b\\) - Capacitance from carriers crossing the base\n\\(C_{je}\\) - Junction capacitance between B and E\n\n\n\n\n\n\n\n\n\n\nTip\n\n\n\\(C_\\mu\\) and is typically around 5fF-10fF.\n\\(C_{je}\\) is a little higher, about \\(&gt;10fF\\).\n\\(C_b\\) is typically around hundreds of fF."
  },
  {
    "objectID": "slides/transistorCapacitances/transistorCapacitances.html#bjt-small-signal-model-with-capacitances",
    "href": "slides/transistorCapacitances/transistorCapacitances.html#bjt-small-signal-model-with-capacitances",
    "title": "Transistor Capacitances",
    "section": "BJT Small Signal Model with Capacitances",
    "text": "BJT Small Signal Model with Capacitances\n\n\n\n\\[C\\pi=C_b+C_{je}\\] \\[C_b=\\tau_Fg_m\\]\n\n\\[\\frac{C_{je0}}{\\sqrt{1 - V_{BE}/V_{j,BE}}}\\]\n\n\\[ C_{\\mu} = \\frac{C_{\\mu0}}{\\sqrt{1 + V_{CB}/V_{j,CB}}} \\]"
  },
  {
    "objectID": "slides/transistorCapacitances/transistorCapacitances.html#mos-parasitics-1",
    "href": "slides/transistorCapacitances/transistorCapacitances.html#mos-parasitics-1",
    "title": "Transistor Capacitances",
    "section": "MOS Parasitics",
    "text": "MOS Parasitics\n\n\nThe MOS has three sources of parasitics:\n\nDrain/Source to Bulk Junction Capacitance \\(C_{db}\\),\\(C_{sb}\\)  - Same as earlier.\nGate-bulk capacitance \\(C_{gb}\\) - The MOS Capacitor. Remember this?\nGate-overlap capacitance \\(C_{gs}\\)  - MOS Capacitor but we accidentally do it to S/D."
  },
  {
    "objectID": "slides/transistorCapacitances/transistorCapacitances.html#mos-parasitics-2",
    "href": "slides/transistorCapacitances/transistorCapacitances.html#mos-parasitics-2",
    "title": "Transistor Capacitances",
    "section": "MOS Parasitics",
    "text": "MOS Parasitics"
  },
  {
    "objectID": "slides/transistorCapacitances/transistorCapacitances.html#overlap-capacitances-c_gs-and-c_gd",
    "href": "slides/transistorCapacitances/transistorCapacitances.html#overlap-capacitances-c_gs-and-c_gd",
    "title": "Transistor Capacitances",
    "section": "Overlap Capacitances \\(C_{GS}\\) and \\(C_{GD}\\)",
    "text": "Overlap Capacitances \\(C_{GS}\\) and \\(C_{GD}\\)\n\n\n\n\n\\(C_{GS}\\) and \\(C_{GD}\\) are overlap capacitances caused by an effective MOS capacitor on the overlap of the G region to the S and D regions.\n\n\n\\[C_{GS} = C_{GD} = \\frac{\\epsilon_{ox} x_d W}{t_{ox}}\\]\n\n\nBut if you may remember…\n\n\n\\[C_{ox}=\\frac{\\epsilon_{ox}}{t_{ox}}\\]\n\n\n\\[C_{GS} = C_{GD} = C_{ox}x_dW\\]"
  },
  {
    "objectID": "slides/transistorCapacitances/transistorCapacitances.html#the-gate-bulk-capacitance-c_gb",
    "href": "slides/transistorCapacitances/transistorCapacitances.html#the-gate-bulk-capacitance-c_gb",
    "title": "Transistor Capacitances",
    "section": "The Gate-bulk Capacitance \\(C_{gb}\\)",
    "text": "The Gate-bulk Capacitance \\(C_{gb}\\)\n\n\n\nAs we discussed before, the main physical device behind the MOSFET is a MOS capacitor.\n\n\n\\[ C_{gb} = \\frac{\\epsilon_{ox}}{t_{ox}}WL \\]"
  },
  {
    "objectID": "slides/transistorCapacitances/transistorCapacitances.html#the-drain-bulk-and-source-bulk-capacitances-c_dbc_sb",
    "href": "slides/transistorCapacitances/transistorCapacitances.html#the-drain-bulk-and-source-bulk-capacitances-c_dbc_sb",
    "title": "Transistor Capacitances",
    "section": "The Drain-bulk and Source-bulk Capacitances \\(C_{db}\\),\\(C_{sb}\\)",
    "text": "The Drain-bulk and Source-bulk Capacitances \\(C_{db}\\),\\(C_{sb}\\)\n\\(C_{db}\\) and \\(C_{sb}\\) come from junction capacitances of the PN junction formed by the opposite-type semiconductors of the drain/source and the bulk."
  },
  {
    "objectID": "slides/transistorCapacitances/transistorCapacitances.html#mosfet-capacitances",
    "href": "slides/transistorCapacitances/transistorCapacitances.html#mosfet-capacitances",
    "title": "Transistor Capacitances",
    "section": "MOSFET Capacitances",
    "text": "MOSFET Capacitances\n\n\nMOS Parallel Plate Capacitances\n\n\\(C_{gs}\\)\n\\(C_{gd}\\)\n\\(C_{gb}\\)\n\nS/D-Bulk Junction Capacitances\n\n\\(C_{sb}\\)\n\\(C_{db}\\)"
  },
  {
    "objectID": "slides/transistorCapacitances/transistorCapacitances.html#effective-mos-small-signal-with-capacitances",
    "href": "slides/transistorCapacitances/transistorCapacitances.html#effective-mos-small-signal-with-capacitances",
    "title": "Transistor Capacitances",
    "section": "Effective MOS Small-signal with Capacitances",
    "text": "Effective MOS Small-signal with Capacitances\n\n\nThe bulk is typically connected to the source meaning:\n\n\n\n\\(C_{gs}\\) typically also accounts for \\(C_{gb}\\).\n\n\n\n\n\\(C_{sb}\\) is shorted.\n\n\n\nSo, only \\(C_{gs}\\), \\(C_{gd}\\) and \\(C_{db}\\) survive."
  },
  {
    "objectID": "slides/transistorCapacitances/transistorCapacitances.html#the-fundamental-gains",
    "href": "slides/transistorCapacitances/transistorCapacitances.html#the-fundamental-gains",
    "title": "Transistor Capacitances",
    "section": "The fundamental gains",
    "text": "The fundamental gains\nLet’s see what happens to the fundamental gains due to the capacitances:\n\n\n\nVoltage gain:\n\n\n\\[ \\frac{v_o}{r_o || 1/sC\\mu} + v_i (g_m + sC\\mu) = 0 \\]\n\n\n\\[ \\frac{v_o}{v_i} = - (g_m + sC\\mu)(\\frac{r_o}{1+sC\\mu r_o}) \\]\n\n\n\\[ \\frac{v_o}{v_i} = - g_mr_o \\frac{(1 + sC\\mu/g_m)}{(1+sC\\mu r_o)} \\]\n\n\n\n\n\n\nCurrent gain:\n\n\n\\[ i_o = v_i (g_m - sC\\mu) \\]\n\n\n\\[ i_i = v_i (sC\\pi + sC\\mu + 1/r_{\\pi}) \\]\n\n\n\\[ \\frac{i_o}{i_i} = \\frac{g_m-sC\\mu}{1/r_{\\pi} + sC_\\pi+sC_\\mu}\\]\n\n\n\\[ \\frac{i_o}{i_i} = g_mr_{\\pi} \\frac{1-sC\\mu/g_m}{1+sr_{\\pi}(C_\\pi+C_\\mu)}\\]"
  },
  {
    "objectID": "slides/transistorCapacitances/transistorCapacitances.html#the-transition-frequency-f_t",
    "href": "slides/transistorCapacitances/transistorCapacitances.html#the-transition-frequency-f_t",
    "title": "Transistor Capacitances",
    "section": "The Transition Frequency \\(f_T\\)",
    "text": "The Transition Frequency \\(f_T\\)\n\n\n\nYou’ll notice that the current gain reaches 1 (0 dB), but the voltage gain doesn’t.\n\n\nHence, people measure the “speed of the transistor” or the transition frequency as \\[ \\left| \\frac{i_o}{i_i} \\right|_{f_T} = 1\\]"
  },
  {
    "objectID": "slides/transistorCapacitances/transistorCapacitances.html#the-transition-frequency-f_t-1",
    "href": "slides/transistorCapacitances/transistorCapacitances.html#the-transition-frequency-f_t-1",
    "title": "Transistor Capacitances",
    "section": "The Transition Frequency \\(f_T\\)",
    "text": "The Transition Frequency \\(f_T\\)\n\n\n\\[ \\frac{i_o}{i_i} = g_mr_\\pi \\frac{1-sC\\mu/g_m}{s(C_\\pi+C_\\mu)}\\]\n\n\n\\[ \\frac{i_o}{i_i} = \\frac{g_m-sC\\mu}{1/r_\\pi + s(C_\\pi+C_\\mu)}\\]\n\n\n\\[ \\left| \\frac{i_o}{i_i} \\right| = \\frac{\\sqrt{g_m^2 + \\omega_T^2C_\\mu^2}}{\\sqrt{(1/r_\\pi)^2 + \\omega_T^2(C_\\pi+C_\\mu)^2}} = 1\\]\n\n\n\\[ \\frac{g_m^2 + \\omega_T^2C_\\mu^2}{(1/r_\\pi)^2 + \\omega_T^2(C_\\pi+C_\\mu)^2} = 1\\]"
  },
  {
    "objectID": "slides/transistorCapacitances/transistorCapacitances.html#the-transition-frequency-f_t-2",
    "href": "slides/transistorCapacitances/transistorCapacitances.html#the-transition-frequency-f_t-2",
    "title": "Transistor Capacitances",
    "section": "The Transition Frequency \\(f_T\\)",
    "text": "The Transition Frequency \\(f_T\\)\n\n\n\\[ \\frac{g_m^2 + \\omega_T^2C_\\mu^2}{(1/r_\\pi)^2 + \\omega_T^2(C_\\pi+C_\\mu)^2} = 1\\]\n\n\n\\[ \\omega_T^2 = \\frac{g_m^2 - (1/r_\\pi)^2}{(C_\\pi+C_\\mu)^2 - C_\\mu^2}\\]\n\n\nSince \\(g_m^2 \\gg 1/r_\\pi^2\\) and \\((C_\\pi+C_\\mu)^2 \\gg C_\\mu^2\\)\n\n\n\n\n\n\nDefinition\n\n\n\\[\\omega_T \\approx \\frac{g_m}{C_\\pi + C_\\mu}, f_T \\approx \\frac{g_m}{2\\pi(C_\\pi + C_\\mu)}\\]"
  },
  {
    "objectID": "slides/transistorCapacitances/transistorCapacitances.html#the-transition-frequency-f_t-3",
    "href": "slides/transistorCapacitances/transistorCapacitances.html#the-transition-frequency-f_t-3",
    "title": "Transistor Capacitances",
    "section": "The Transition Frequency \\(f_T\\)",
    "text": "The Transition Frequency \\(f_T\\)\nFor a MOSFET, everything is the same.\nSet \\(r_\\pi \\rightarrow \\infty\\)\n\n\n\nDefinition\n\n\n\\[\\omega_T \\approx \\frac{g_m}{C_{gd} + C_{gs}}, f_T \\approx \\frac{g_m}{2\\pi(C_{gd} + C_{gs})}\\]"
  },
  {
    "objectID": "slides/transistorCapacitances/transistorCapacitances.html#the-transition-frequency-f_t-4",
    "href": "slides/transistorCapacitances/transistorCapacitances.html#the-transition-frequency-f_t-4",
    "title": "Transistor Capacitances",
    "section": "The Transition Frequency \\(f_T\\)",
    "text": "The Transition Frequency \\(f_T\\)\n\n\n\n\nTransistor Capacitances"
  },
  {
    "objectID": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#coverage",
    "href": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#coverage",
    "title": "Frequency Response of CE Amplifier",
    "section": "Coverage",
    "text": "Coverage\n\n\nFrequency Response of CS/CE Amplifiers\nCE Amplifier with an Output Pole\nCE Amplifier with an Input Pole"
  },
  {
    "objectID": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#ce-amplifier-with-an-output-pole",
    "href": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#ce-amplifier-with-an-output-pole",
    "title": "Frequency Response of CE Amplifier",
    "section": "CE Amplifier with an Output Pole",
    "text": "CE Amplifier with an Output Pole\n\n\nWe begin by analyzing the CE amplifier frequency response.\nAssumptions:\n\n\nIgnore BJT parasitic capacitances (for now).\nAssume \\(r_o \\rightarrow \\infty\\).\nAn external load capacitance \\(C_L\\) dominates the output."
  },
  {
    "objectID": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#ce-amplifier-with-an-output-pole-1",
    "href": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#ce-amplifier-with-an-output-pole-1",
    "title": "Frequency Response of CE Amplifier",
    "section": "CE Amplifier with an Output Pole",
    "text": "CE Amplifier with an Output Pole\n\nKCL @ \\(v_o\\):\n\n\n\\[\\frac{v_o}{R_C || \\frac{1}{sC_L}} + g_m v_i = 0\\]\n\n\nThen, rearranging, \\[A_v(s) = -g_mR_C \\left( \\frac{1}{1 + sR_C C_L} \\right)\\]\n\n\nand we have the form\n\\[A_v(s) = A_0 \\left( \\frac{1}{1 + s/p_1} \\right) \\]"
  },
  {
    "objectID": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#ce-with-output-poles-a_v",
    "href": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#ce-with-output-poles-a_v",
    "title": "Frequency Response of CE Amplifier",
    "section": "CE with Output Poles: \\(A_V\\)",
    "text": "CE with Output Poles: \\(A_V\\)\n\\[A_v(s) = -g_mR_C \\left( \\frac{1}{1 + sR_C C_L} \\right)\\]"
  },
  {
    "objectID": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#ce-with-output-pole-r_o",
    "href": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#ce-with-output-pole-r_o",
    "title": "Frequency Response of CE Amplifier",
    "section": "CE with Output Pole: \\(R_o\\)",
    "text": "CE with Output Pole: \\(R_o\\)"
  },
  {
    "objectID": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#ce-with-output-pole-g_m",
    "href": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#ce-with-output-pole-g_m",
    "title": "Frequency Response of CE Amplifier",
    "section": "CE with Output Pole: \\(G_m\\)",
    "text": "CE with Output Pole: \\(G_m\\)"
  },
  {
    "objectID": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#ce-with-output-pole-z_i",
    "href": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#ce-with-output-pole-z_i",
    "title": "Frequency Response of CE Amplifier",
    "section": "CE with Output Pole: \\(Z_i\\)",
    "text": "CE with Output Pole: \\(Z_i\\)"
  },
  {
    "objectID": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#ce-transconductance-g_m",
    "href": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#ce-transconductance-g_m",
    "title": "Frequency Response of CE Amplifier",
    "section": "CE Transconductance \\(G_m\\)",
    "text": "CE Transconductance \\(G_m\\)\n\nRecalling that \\(A_v = -G_m Z_o\\), we can solve for the effective transconductance:\n\n\n\\[G_m = \\frac{-A_v}{Z_o}\\]\n\n\n\\[G_m = \\frac{-\\left[ \\frac{-g_m R_C}{1 + j\\omega R_C C_L} \\right]}{\\frac{R_C}{1 + j\\omega R_C C_L}}\\]\n\n\n\\[G_m = g_m\\]\n\n\nIn this simplified model, the transconductance is frequency independent."
  },
  {
    "objectID": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#ce-input-impedance-z_i",
    "href": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#ce-input-impedance-z_i",
    "title": "Frequency Response of CE Amplifier",
    "section": "CE Input Impedance \\(Z_i\\)",
    "text": "CE Input Impedance \\(Z_i\\)\n\n\n\\[Z_i = \\frac{v_i}{i_i} \\bigg|_{v_o=0}\\]\nBy simple inspection of the small signal model: \\[Z_i = r_\\pi\\]\nThe input impedance is purely resistive and constant across frequency (in this specific configuration)."
  },
  {
    "objectID": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#ce-two-port-equivalent-output-pole-only",
    "href": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#ce-two-port-equivalent-output-pole-only",
    "title": "Frequency Response of CE Amplifier",
    "section": "CE Two-Port Equivalent (Output Pole Only)",
    "text": "CE Two-Port Equivalent (Output Pole Only)\nWe can construct a two-port network representing the amplifier so far:\n\n\n\n\\[Z_i = r_\\pi\\]\n\n\\[G_m = g_m\\]\n\n\\[Z_o = \\frac{R_C}{1 + sR_C C_L}\\]"
  },
  {
    "objectID": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#the-ce-amplifier-with-an-input-pole",
    "href": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#the-ce-amplifier-with-an-input-pole",
    "title": "Frequency Response of CE Amplifier",
    "section": "The CE Amplifier with an Input Pole",
    "text": "The CE Amplifier with an Input Pole\nNow we add a source resistance \\(R_S\\) and a base-emitter capacitance \\(C_\\pi\\).\n\nWe must determine how \\(v_{be}\\) relates to \\(v_i\\) considering the frequency dependent voltage divider at the input."
  },
  {
    "objectID": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#deriving-the-input-transfer-function",
    "href": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#deriving-the-input-transfer-function",
    "title": "Frequency Response of CE Amplifier",
    "section": "Deriving the Input Transfer Function",
    "text": "Deriving the Input Transfer Function\n\nApplying voltage division at the input loop:\n\n\n\\[\\frac{v_{be}}{v_i} = \\frac{Z_\\pi}{Z_\\pi + R_S}\\] where \\(Z_\\pi = r_\\pi \\parallel \\frac{1}{sC_\\pi}\\).\n\n\n\\[\\frac{v_{be}}{v_i} = \\frac{\\frac{r_\\pi}{1 + s r_\\pi C_\\pi}}{\\frac{r_\\pi}{1 + s r_\\pi C_\\pi} + R_S}\\]\n\n\nMultiplying numerator and denominator by \\((1 + s r_\\pi C_\\pi)\\): \\[\\frac{v_{be}}{v_i} = \\frac{r_\\pi}{r_\\pi + R_S + s r_\\pi R_S C_\\pi}\\]"
  },
  {
    "objectID": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#deriving-the-input-transfer-function-1",
    "href": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#deriving-the-input-transfer-function-1",
    "title": "Frequency Response of CE Amplifier",
    "section": "Deriving the Input Transfer Function",
    "text": "Deriving the Input Transfer Function\n\n\\[\\frac{v_{be}}{v_i} = \\frac{r_\\pi}{r_\\pi + R_S + s r_\\pi R_S C_\\pi}\\]\n\n\nWe factor out \\((r_\\pi + R_S)\\) from the denominator to normalize the DC term:\n\n\n\\[\\frac{v_{be}}{v_i} = \\frac{r_\\pi}{r_\\pi + R_S} \\left( \\frac{1}{1 + s C_\\pi \\frac{r_\\pi R_S}{r_\\pi + R_S}} \\right)\\]\n\n\nThis results in an input attenuation factor \\(A_{i}\\) and an input pole \\(\\omega_{p1}\\): \\[\\frac{v_{be}}{v_i} = A_i \\frac{1}{1 + j\\frac{\\omega}{\\omega_{p1}}}\\] where \\(A_i = \\frac{r_\\pi}{r_\\pi + R_S}\\) and \\(\\omega_{p1} = \\frac{1}{C_\\pi (r_\\pi \\parallel R_S)}\\)."
  },
  {
    "objectID": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#total-transfer-function",
    "href": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#total-transfer-function",
    "title": "Frequency Response of CE Amplifier",
    "section": "Total Transfer Function",
    "text": "Total Transfer Function\nWe combine the input section response (\\(A_1\\)) with the output section response (\\(A_2\\)).\n\\[A_v(s) = \\underbrace{\\left( \\frac{v_{be}}{v_i} \\right)}_{\\text{Input Section}} \\cdot \\underbrace{\\left( \\frac{v_o}{v_{be}} \\right)}_{\\text{Output Section}}\\]\n\n\\[A_v(s) = \\left[ \\frac{r_\\pi}{r_\\pi + R_S} \\cdot \\frac{1}{1 + j\\frac{\\omega}{\\omega_{p1}}} \\right] \\cdot \\left[ -g_m R_C \\cdot \\frac{1}{1 + j\\frac{\\omega}{\\omega_{p2}}} \\right]\\]\n\n\n\n\n\n\n\n\nTotal Gain\n\n\n\\[A_v(s) = A_{mid} \\frac{1}{(1 + j\\frac{\\omega}{\\omega_{p1}})(1 + j\\frac{\\omega}{\\omega_{p2}})}\\] \\[\\omega_{p1} = \\frac{1}{C_\\pi (r_\\pi \\parallel R_S)}, \\quad \\omega_{p2} = \\frac{1}{R_C C_L}\\]"
  },
  {
    "objectID": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#magnitude-response-two-poles",
    "href": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#magnitude-response-two-poles",
    "title": "Frequency Response of CE Amplifier",
    "section": "Magnitude Response (Two Poles)",
    "text": "Magnitude Response (Two Poles)\nTypically, the output pole \\(\\omega_{p2}\\) is lower frequency than the input pole \\(\\omega_{p1}\\).\n\n\n\nFlat gain up to \\(\\omega_{p2}\\).\nSlope of \\(-20\\) dB/dec between \\(\\omega_{p2}\\) and \\(\\omega_{p1}\\).\nSlope of \\(-40\\) dB/dec after \\(\\omega_{p1}\\)."
  },
  {
    "objectID": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#phase-response",
    "href": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#phase-response",
    "title": "Frequency Response of CE Amplifier",
    "section": "Phase Response",
    "text": "Phase Response\nThe phase response depends on the separation of the poles.\n\\[\\angle A_v(\\omega) = 180^\\circ - \\tan^{-1}\\left(\\frac{\\omega}{\\omega_{p1}}\\right) - \\tan^{-1}\\left(\\frac{\\omega}{\\omega_{p2}}\\right)\\]\n\n\nWidely Separated If poles are far apart, the phase drops in distinct steps. \n\nClose Proximity If poles are close, the phase shifts merge, creating a steeper descent."
  },
  {
    "objectID": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#frequency-dependent-parameters",
    "href": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#frequency-dependent-parameters",
    "title": "Frequency Response of CE Amplifier",
    "section": "Frequency Dependent Parameters",
    "text": "Frequency Dependent Parameters\nWe can generalize the two-port parameters to include frequency effects:\n\n\nInput Impedance \\(Z_i(\\omega)\\) \\[Z_i(\\omega) = R_S + \\frac{r_\\pi}{1 + j\\omega r_\\pi C_\\pi}\\] Derivation involves simple series/parallel combination of \\(R_S, r_\\pi, C_\\pi\\).\n\nTransconductance \\(G_m(\\omega)\\) \\[G_m(\\omega) = \\frac{g_m}{1 + j\\omega (R_S \\parallel r_\\pi) C_\\pi} \\cdot \\frac{r_\\pi}{r_\\pi + R_S}\\] Effective transconductance rolls off due to the input pole."
  },
  {
    "objectID": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#next-lecture",
    "href": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#next-lecture",
    "title": "Frequency Response of CE Amplifier",
    "section": "Next Lecture",
    "text": "Next Lecture\n\n\nMiller Capacitance\n\nWhat happens when a capacitor connects Input and Output?\n\nBypass and Coupling Capacitors\n\nEffect on Low Frequency Response"
  },
  {
    "objectID": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#end-of-part-1",
    "href": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#end-of-part-1",
    "title": "Frequency Response of CE Amplifier",
    "section": "End of Part 1",
    "text": "End of Part 1\n\n\n\nFrequency Response of CE Amplifier"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Lawrence Quizon",
    "section": "",
    "text": "Github\n  \n  \n    \n     LinkedIn\n  \n  \n     Google Scholar\n  \n\n      \nI’m a student of everything. Formally, an IC design researcher in University of the Philippines Diliman Microlab where I recently obtained my Master’s degree in August 2025.\nMy primary research interest is in the creation of efficient computational systems in software and hardware for the advancement of both engineering (low power computation on the edge, brain-computer interfaces) and sciences (device physics, emergent dynamics).\n\n    \n    \n  \n\n\n\n\nSecondary Interests\n\nOpen source hardware everything. Why can’t we have massive Github portfolios of random hardware? (We can)\nThe Linux Kernel for RISCV\nThe very very secret GPU architectures\nApplications of Abstract Math (surprisingly cool)\nTrying to understand AdS/CFT by Maldacena. Currently still in GR and QFT.\nLearning an NVIM workflow, primarily because I’m tired of using VNC.\n\n\n\nRecent Pages\n\n\n\n\n\n\n\n\n   \n     \n     \n       Order By\n       Default\n         \n          Date - Oldest\n        \n         \n          Date - Newest\n        \n         \n          Title\n        \n     \n  \n    \n      \n      \n    \n\n\n\n\n\nTitle\n\n\nDate\n\n\n\n\n\n\nDerivation of the Lorentz Transformation\n\n\nJan 6, 2026\n\n\n\n\nFrequency Response of CE Amplifier\n\n\n \n\n\n\n\nHyperCoreX Code Structure\n\n\nMar 18, 2025\n\n\n\n\nInteresting Quantization Observations\n\n\nJan 17, 2025\n\n\n\n\nLagrangians, Hamiltonians\n\n\nOct 1, 2025\n\n\n\n\nMetrics and Manifolds\n\n\nDec 26, 2025\n\n\n\n\nObserver falls into the black hole, becomes Nostradamus\n\n\nDec 18, 2025\n\n\n\n\nRings and Fields\n\n\nJan 3, 2026\n\n\n\n\nSetting up an OS PDK\n\n\n \n\n\n\n\nTransistor Capacitances\n\n\n \n\n\n\n\nWavefunctions, Bras, Kets\n\n\nDec 4, 2025\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "slides/settingOsPdk/settingOsPdk.html#steps-overview",
    "href": "slides/settingOsPdk/settingOsPdk.html#steps-overview",
    "title": "Setting up an OS PDK",
    "section": "Steps Overview",
    "text": "Steps Overview\nThe following tools require setup for a new PDK:\n\nYosys Synthesis\nOpenROAD (place_opt, global_route, detailed_route, cts)\nMAGIC setup (sets up DRC)\nNETGEN setup (LVS)\nOpenSTA settings\nOpenRCX settings\nXSchem (Symbol creation and spice attachment)\n\nPDK_HOME/libs.tech/xschem"
  },
  {
    "objectID": "slides/settingOsPdk/settingOsPdk.html#resources",
    "href": "slides/settingOsPdk/settingOsPdk.html#resources",
    "title": "Setting up an OS PDK",
    "section": "Resources",
    "text": "Resources\nOpenLane Discussions Issue on the original repo discussing PDK setup: https://github.com/The-OpenROAD-Project/OpenLane/discussions/2133\nPDK Configuration Official documentation on setting up a configuration: https://openlane.readthedocs.io/en/latest/reference/pdk_configuration.html"
  },
  {
    "objectID": "slides/settingOsPdk/settingOsPdk.html#xschem-configuration",
    "href": "slides/settingOsPdk/settingOsPdk.html#xschem-configuration",
    "title": "Setting up an OS PDK",
    "section": "XSchem Configuration",
    "text": "XSchem Configuration\nYou must create your own symbols (using XSchem).\n\nReference: XSchem Manual\nKey Construct: format (accessible by double-clicking the instance).\nPurpose: Represents the device in the SPICE netlist for simulation."
  },
  {
    "objectID": "slides/settingOsPdk/settingOsPdk.html#xschem-format-example",
    "href": "slides/settingOsPdk/settingOsPdk.html#xschem-format-example",
    "title": "Setting up an OS PDK",
    "section": "XSchem Format Example",
    "text": "XSchem Format Example\n 1 G {}\n 2 K {type=nmos\n 3 lvs_format=\"@spiceprefix@name @pinlist sky130_fd_pr__@model L=@L W=@W nf=@nf m=@mult\"\n 4 format=\"@spiceprefix@name @pinlist sky130_fd_pr__@model L=@L W=@W\n 5 + nf=@nf ad=@ad as=@as pd=@pd ps=@ps\n 6 + nrd=@nrd nrs=@nrs sa=@sa sb=@sb sd=@sd\n 7 + mult=@mult m=@mult\"\n 8 template=\"name=M1\n 9 W=1\n10 L=0.15\n11 nf=1 \n12 mult=1\n13 ad=\\\\\"expr('int((@nf + 1)/2) * @W / @nf * 0.29')\\\\\"\n14 pd=\\\\\"expr('2*int((@nf + 1)/2) * (@W / @nf + 0.29)')\\\\\"\n15 as=\\\\\"expr('int((@nf + 2)/2) * @W / @nf * 0.29')\\\\\"\n16 ps=\\\\\"expr('2*int((@nf + 2)/2) * (@W / @nf + 0.29)')\\\\\"\n17 nrd=\\\\\"expr('0.29 / @W ')\\\\\" nrs=\\\\\"expr('0.29 / @W ')\\\\\"\n18 sa=0 sb=0 sd=0\n19 model=nfet_01v8\n20 spiceprefix=X\n21 \"\n22 drc=\"fet_drc \\{@name\\\\\\\\\\} \\{@symname\\\\\\\\\\} \\{@model\\\\\\\\\\} \\{@W\\\\\\\\\\} \\{@L\\\\\\\\\\} \\{@nf\\\\\\\\\\}\"}"
  },
  {
    "objectID": "slides/settingOsPdk/settingOsPdk.html#setting-up-librelane",
    "href": "slides/settingOsPdk/settingOsPdk.html#setting-up-librelane",
    "title": "Setting up an OS PDK",
    "section": "Setting up LibreLane",
    "text": "Setting up LibreLane\nRun with --manual-pdk if building without ciel (the package manager).\nRequired Files:\n\nPDK Config: {pdk_root}/{pdk}/libs.tech/librelane/config.tcl\n\nSCL Config: {pdk_root}/{pdk}/libs.tech/librelane/{scl}/config.tcl"
  },
  {
    "objectID": "slides/settingOsPdk/settingOsPdk.html#tech-lef-declaration",
    "href": "slides/settingOsPdk/settingOsPdk.html#tech-lef-declaration",
    "title": "Setting up an OS PDK",
    "section": "Tech LEF Declaration",
    "text": "Tech LEF Declaration\nThe configuration file is where you declare the tech lef.\n# Technology LEF\nset ::env(TECH_LEF) \"$::env(PDK_ROOT)/$::env(PDK)/libs.ref/$::env(STD_CELL_LIBRARY)/techlef/$::env(STD_CELL_LIBRARY)__nom.tlef\"\nset ::env(TECH_LEF_MIN) \"$::env(PDK_ROOT)/$::env(PDK)/libs.ref/$::env(STD_CELL_LIBRARY)/techlef/$::env(STD_CELL_LIBRARY)__min.tlef\"\nset ::env(TECH_LEF_MAX) \"$::env(PDK_ROOT)/$::env(PDK)/libs.ref/$::env(STD_CELL_LIBRARY)/techlef/$::env(STD_CELL_LIBRARY)__max.tlef\"\nset ::env(CELLS_LEF) [glob \"$::env(PDK_ROOT)/$::env(PDK)/libs.ref/$::env(STD_CELL_LIBRARY)/lef/*.lef\"]\nset ::env(GDS_FILES) [glob \"$::env(PDK_ROOT)/$::env(PDK)/libs.ref/$::env(STD_CELL_LIBRARY)/gds/*.gds\"]\nset ::env(STD_CELL_LIBRARY_CDL) \"$::env(PDK_ROOT)/$::env(PDK)/libs.ref/$::env(STD_CELL_LIBRARY)/cdl/$::env(STD_CELL_LIBRARY).cdl\"\n\nNote: Except for libs.ref (which is standard), everything else is handled by this config file."
  },
  {
    "objectID": "slides/settingOsPdk/settingOsPdk.html#configuration-files-detail",
    "href": "slides/settingOsPdk/settingOsPdk.html#configuration-files-detail",
    "title": "Setting up an OS PDK",
    "section": "Configuration Files Detail",
    "text": "Configuration Files Detail\nSource: OpenLane Docs\n\nconfig.tcl: Common info for all SCLs under this PDK. Example\ncommon_pdn.tcl: PDN configuration.\n&lt;scl&gt;/config.tcl: SCL specific info (overrides PDK config). Example\n&lt;scl&gt;/tracks.info: Metal layer offsets and pitches (extracted from tech lef). Example\n\nFormat: &lt;layer name&gt; X|Y &lt;offset&gt; &lt;pitch&gt;\n\n&lt;scl&gt;/synth_exclude.cells: Newline-separated cell names to trim during synthesis. Example\nrcx_patterns.rules: Rules for OpenSTA. Example"
  },
  {
    "objectID": "slides/settingOsPdk/settingOsPdk.html#folder-structure",
    "href": "slides/settingOsPdk/settingOsPdk.html#folder-structure",
    "title": "Setting up an OS PDK",
    "section": "Folder Structure",
    "text": "Folder Structure\n\n\n&lt;pdk_name&gt;\n\nlibs.tech\n\nopenlane\n\nconfig.tcl\ncommon_pdn.tcl (Default PDN script)\n&lt;standard cell library&gt;\n\nconfig.tcl\ntracks.info\nno_synth.cells\ndrc_exclude.cells\n\n\n\nlibs.ref\n\nskyxxx_fd_xx_xx\n\nlef (Can contain techlef declarations)\ntechlef (Doesn’t have to be a folder)\nlib\n…"
  },
  {
    "objectID": "slides/settingOsPdk/settingOsPdk.html#execution-setting-up-xschem",
    "href": "slides/settingOsPdk/settingOsPdk.html#execution-setting-up-xschem",
    "title": "Setting up an OS PDK",
    "section": "Execution: Setting up XSchem",
    "text": "Execution: Setting up XSchem\n\nNote: The most basic way to start is skipping XSchem and using ngspice directly.\n\nChecklist:\n\nWrite libs.tech/xschemrc\nCreate symbols for relevant elements\n\nSuggest starting with nfet and pfet to try a flow.\nInvestigate sky130 symbols (open with XSchem) for reference."
  },
  {
    "objectID": "slides/settingOsPdk/settingOsPdk.html#execution-setting-up-magic",
    "href": "slides/settingOsPdk/settingOsPdk.html#execution-setting-up-magic",
    "title": "Setting up an OS PDK",
    "section": "Execution: Setting up MAGIC",
    "text": "Execution: Setting up MAGIC\nThis step also sets up DRC.\nChecklist:\n\nProcess the given stdcell lefs to create maglefs\nWrite sky130A.tcl\nWrite sky130A.tech\nWrite sky130A.magicrc\n\n\n\n\nSetting up an OS PDK"
  },
  {
    "objectID": "slides/settingOsPdk/settingOsPdk.html#whats-a-tlef",
    "href": "slides/settingOsPdk/settingOsPdk.html#whats-a-tlef",
    "title": "Setting up an OS PDK",
    "section": "What’s a TLEF?",
    "text": "What’s a TLEF?\nYou don’t actually need it! The configuration file is where you declare the tech lef.\n# Technology LEF\nset ::env(TECH_LEF) \"$::env(PDK_ROOT)/$::env(PDK)/libs.ref/$::env(STD_CELL_LIBRARY)/techlef/$::env(STD_CELL_LIBRARY)__nom.tlef\"\nset ::env(TECH_LEF_MIN) \"$::env(PDK_ROOT)/$::env(PDK)/libs.ref/$::env(STD_CELL_LIBRARY)/techlef/$::env(STD_CELL_LIBRARY)__min.tlef\"\nset ::env(TECH_LEF_MAX) \"$::env(PDK_ROOT)/$::env(PDK)/libs.ref/$::env(STD_CELL_LIBRARY)/techlef/$::env(STD_CELL_LIBRARY)__max.tlef\"\nset ::env(CELLS_LEF) [glob \"$::env(PDK_ROOT)/$::env(PDK)/libs.ref/$::env(STD_CELL_LIBRARY)/lef/*.lef\"]\nset ::env(GDS_FILES) [glob \"$::env(PDK_ROOT)/$::env(PDK)/libs.ref/$::env(STD_CELL_LIBRARY)/gds/*.gds\"]\nset ::env(STD_CELL_LIBRARY_CDL) \"$::env(PDK_ROOT)/$::env(PDK)/libs.ref/$::env(STD_CELL_LIBRARY)/cdl/$::env(STD_CELL_LIBRARY).cdl\"\n\nNote: Except for libs.ref (which is standard), everything else is handled by this config file."
  },
  {
    "objectID": "slides/settingOsPdk/settingOsPdk.html#execution-setting-up-xschem-1",
    "href": "slides/settingOsPdk/settingOsPdk.html#execution-setting-up-xschem-1",
    "title": "Setting up an OS PDK",
    "section": "Execution: Setting up XSchem",
    "text": "Execution: Setting up XSchem\nFormat example:\n 1 G {}\n 2 K {type=nmos\n 3 lvs_format=\"@spiceprefix@name @pinlist sky130_fd_pr__@model L=@L W=@W nf=@nf m=@mult\"\n 4 format=\"@spiceprefix@name @pinlist sky130_fd_pr__@model L=@L W=@W\n 5 + nf=@nf ad=@ad as=@as pd=@pd ps=@ps\n 6 + nrd=@nrd nrs=@nrs sa=@sa sb=@sb sd=@sd\n 7 + mult=@mult m=@mult\"\n 8 template=\"name=M1\n 9 W=1\n10 L=0.15\n11 nf=1 \n12 mult=1\n13 ad=\\\\\"expr('int((@nf + 1)/2) * @W / @nf * 0.29')\\\\\"\n14 pd=\\\\\"expr('2*int((@nf + 1)/2) * (@W / @nf + 0.29)')\\\\\"\n15 as=\\\\\"expr('int((@nf + 2)/2) * @W / @nf * 0.29')\\\\\"\n16 ps=\\\\\"expr('2*int((@nf + 2)/2) * (@W / @nf + 0.29)')\\\\\"\n17 nrd=\\\\\"expr('0.29 / @W ')\\\\\" nrs=\\\\\"expr('0.29 / @W ')\\\\\"\n18 sa=0 sb=0 sd=0\n19 model=nfet_01v8\n20 spiceprefix=X\n21 \"\n22 drc=\"fet_drc \\{@name\\\\\\\\\\} \\{@symname\\\\\\\\\\} \\{@model\\\\\\\\\\} \\{@W\\\\\\\\\\} \\{@L\\\\\\\\\\} \\{@nf\\\\\\\\\\}\"}"
  },
  {
    "objectID": "slides/settingOsPdk/settingOsPdk.html#xschem-as-the-virtuoso-equivalent",
    "href": "slides/settingOsPdk/settingOsPdk.html#xschem-as-the-virtuoso-equivalent",
    "title": "Setting up an OS PDK",
    "section": "XSchem as the virtuoso equivalent",
    "text": "XSchem as the virtuoso equivalent\n\nNote: The most basic way to start is skipping XSchem and using ngspice directly.\n\nChecklist:\n\nWrite libs.tech/xschem/xschemrc\nCreate symbols for relevant elements\n\nSuggest starting with nfet and pfet to try a flow.\nInvestigate sky130 symbols (open with XSchem) for reference."
  },
  {
    "objectID": "slides/settingOsPdk/settingOsPdk.html#execution-setting-up-xschem-2",
    "href": "slides/settingOsPdk/settingOsPdk.html#execution-setting-up-xschem-2",
    "title": "Setting up an OS PDK",
    "section": "Execution: Setting up XSchem",
    "text": "Execution: Setting up XSchem\nFormat example:\n 1 G {}\n 2 K {type=nmos\n 3 lvs_format=\"@spiceprefix@name @pinlist sky130_fd_pr__@model L=@L W=@W nf=@nf m=@mult\"\n 4 format=\"@spiceprefix@name @pinlist sky130_fd_pr__@model L=@L W=@W\n 5 + nf=@nf ad=@ad as=@as pd=@pd ps=@ps\n 6 + nrd=@nrd nrs=@nrs sa=@sa sb=@sb sd=@sd\n 7 + mult=@mult m=@mult\"\n 8 template=\"name=M1\n 9 W=1\n10 L=0.15\n11 nf=1 \n12 mult=1\n13 ad=\\\\\"expr('int((@nf + 1)/2) * @W / @nf * 0.29')\\\\\"\n14 pd=\\\\\"expr('2*int((@nf + 1)/2) * (@W / @nf + 0.29)')\\\\\"\n15 as=\\\\\"expr('int((@nf + 2)/2) * @W / @nf * 0.29')\\\\\"\n16 ps=\\\\\"expr('2*int((@nf + 2)/2) * (@W / @nf + 0.29)')\\\\\"\n17 nrd=\\\\\"expr('0.29 / @W ')\\\\\" nrs=\\\\\"expr('0.29 / @W ')\\\\\"\n18 sa=0 sb=0 sd=0\n19 model=nfet_01v8\n20 spiceprefix=X\n21 \"\n22 drc=\"fet_drc \\{@name\\\\\\\\\\} \\{@symname\\\\\\\\\\} \\{@model\\\\\\\\\\} \\{@W\\\\\\\\\\} \\{@L\\\\\\\\\\} \\{@nf\\\\\\\\\\}\"}"
  },
  {
    "objectID": "slides/settingOsPdk/settingOsPdk.html#xschem-symbols-like-the-cadence-symbol-view",
    "href": "slides/settingOsPdk/settingOsPdk.html#xschem-symbols-like-the-cadence-symbol-view",
    "title": "Setting up an OS PDK",
    "section": "XSchem Symbols (like the Cadence symbol view)",
    "text": "XSchem Symbols (like the Cadence symbol view)\n\n\nYou must create your own symbols (using XSchem).\nYou need to set global attributes for XSchem symbols for them to be parsed into a spice netlist properly.\nGlobal attribute example () is shown on the right (model name: nfet_1v8)\n\n 1 G {}\n 2 K {type=nmos\n 3 lvs_format=\"@spiceprefix@name @pinlist sky130_fd_pr__@model L=@L W=@W nf=@nf m=@mult\"\n 4 format=\"@spiceprefix@name @pinlist sky130_fd_pr__@model L=@L W=@W\n 5 + nf=@nf ad=@ad as=@as pd=@pd ps=@ps\n 6 + nrd=@nrd nrs=@nrs sa=@sa sb=@sb sd=@sd\n 7 + mult=@mult m=@mult\"\n 8 template=\"name=M1\n 9 W=1\n10 L=0.15\n11 nf=1 \n12 mult=1\n13 ad=\\\\\"expr('int((@nf + 1)/2) * @W / @nf * 0.29')\\\\\"\n14 pd=\\\\\"expr('2*int((@nf + 1)/2) * (@W / @nf + 0.29)')\\\\\"\n15 as=\\\\\"expr('int((@nf + 2)/2) * @W / @nf * 0.29')\\\\\"\n16 ps=\\\\\"expr('2*int((@nf + 2)/2) * (@W / @nf + 0.29)')\\\\\"\n17 nrd=\\\\\"expr('0.29 / @W ')\\\\\" nrs=\\\\\"expr('0.29 / @W ')\\\\\"\n18 sa=0 sb=0 sd=0\n19 model=nfet_01v8\n20 spiceprefix=X\n21 \"\n22 drc=\"fet_drc \\{@name\\\\\\\\\\} \\{@symname\\\\\\\\\\} \\{@model\\\\\\\\\\} \\{@W\\\\\\\\\\} \\{@L\\\\\\\\\\} \\{@nf\\\\\\\\\\}\"}"
  },
  {
    "objectID": "slides/settingOsPdk/settingOsPdk.html#xschem-symbol-metadata",
    "href": "slides/settingOsPdk/settingOsPdk.html#xschem-symbol-metadata",
    "title": "Setting up an OS PDK",
    "section": "XSchem Symbol Metadata",
    "text": "XSchem Symbol Metadata\nFormat example:\n 1 G {}\n 2 K {type=nmos\n 3 lvs_format=\"@spiceprefix@name @pinlist sky130_fd_pr__@model L=@L W=@W nf=@nf m=@mult\"\n 4 format=\"@spiceprefix@name @pinlist sky130_fd_pr__@model L=@L W=@W\n 5 + nf=@nf ad=@ad as=@as pd=@pd ps=@ps\n 6 + nrd=@nrd nrs=@nrs sa=@sa sb=@sb sd=@sd\n 7 + mult=@mult m=@mult\"\n 8 template=\"name=M1\n 9 W=1\n10 L=0.15\n11 nf=1 \n12 mult=1\n13 ad=\\\\\"expr('int((@nf + 1)/2) * @W / @nf * 0.29')\\\\\"\n14 pd=\\\\\"expr('2*int((@nf + 1)/2) * (@W / @nf + 0.29)')\\\\\"\n15 as=\\\\\"expr('int((@nf + 2)/2) * @W / @nf * 0.29')\\\\\"\n16 ps=\\\\\"expr('2*int((@nf + 2)/2) * (@W / @nf + 0.29)')\\\\\"\n17 nrd=\\\\\"expr('0.29 / @W ')\\\\\" nrs=\\\\\"expr('0.29 / @W ')\\\\\"\n18 sa=0 sb=0 sd=0\n19 model=nfet_01v8\n20 spiceprefix=X\n21 \"\n22 drc=\"fet_drc \\{@name\\\\\\\\\\} \\{@symname\\\\\\\\\\} \\{@model\\\\\\\\\\} \\{@W\\\\\\\\\\} \\{@L\\\\\\\\\\} \\{@nf\\\\\\\\\\}\"}"
  },
  {
    "objectID": "slides/settingOsPdk/settingOsPdk.html#xschem-symbol-global-attributes",
    "href": "slides/settingOsPdk/settingOsPdk.html#xschem-symbol-global-attributes",
    "title": "Setting up an OS PDK",
    "section": "XSchem Symbol Global Attributes",
    "text": "XSchem Symbol Global Attributes\n\n\nYou need to set global attributes for XSchem symbols for them to be parsed into a spice netlist properly.\nGlobal attribute example () is shown on the right (model name: nfet_1v8)\n\n 1 G {}\n 2 K {type=nmos\n 3 lvs_format=\"@spiceprefix@name @pinlist sky130_fd_pr__@model L=@L W=@W nf=@nf m=@mult\"\n 4 format=\"@spiceprefix@name @pinlist sky130_fd_pr__@model L=@L W=@W\n 5 + nf=@nf ad=@ad as=@as pd=@pd ps=@ps\n 6 + nrd=@nrd nrs=@nrs sa=@sa sb=@sb sd=@sd\n 7 + mult=@mult m=@mult\"\n 8 template=\"name=M1\n 9 W=1\n10 L=0.15\n11 nf=1 \n12 mult=1\n13 ad=\\\\\"expr('int((@nf + 1)/2) * @W / @nf * 0.29')\\\\\"\n14 pd=\\\\\"expr('2*int((@nf + 1)/2) * (@W / @nf + 0.29)')\\\\\"\n15 as=\\\\\"expr('int((@nf + 2)/2) * @W / @nf * 0.29')\\\\\"\n16 ps=\\\\\"expr('2*int((@nf + 2)/2) * (@W / @nf + 0.29)')\\\\\"\n17 nrd=\\\\\"expr('0.29 / @W ')\\\\\" nrs=\\\\\"expr('0.29 / @W ')\\\\\"\n18 sa=0 sb=0 sd=0\n19 model=nfet_01v8\n20 spiceprefix=X\n21 \"\n22 drc=\"fet_drc \\{@name\\\\\\\\\\} \\{@symname\\\\\\\\\\} \\{@model\\\\\\\\\\} \\{@W\\\\\\\\\\} \\{@L\\\\\\\\\\} \\{@nf\\\\\\\\\\}\"}"
  },
  {
    "objectID": "slides/settingOsPdk/settingOsPdk.html#overal",
    "href": "slides/settingOsPdk/settingOsPdk.html#overal",
    "title": "Setting up an OS PDK",
    "section": "Overal",
    "text": "Overal\nRun with --manual-pdk if building without ciel (the package manager).\nRequired Files:\n\nPDK Config: {pdk_root}/{pdk}/libs.tech/librelane/config.tcl\n\nSCL Config: {pdk_root}/{pdk}/libs.tech/librelane/{scl}/config.tcl"
  },
  {
    "objectID": "slides/settingOsPdk/settingOsPdk.html#most-important-requirement-config-files",
    "href": "slides/settingOsPdk/settingOsPdk.html#most-important-requirement-config-files",
    "title": "Setting up an OS PDK",
    "section": "Most important requirement: Config files",
    "text": "Most important requirement: Config files\nIn fact, little else matters because these config files point to everything that’s needed. If they’re not there, you have to make them.\n\nRequired Files:\n\nPDK Config: {pdk_root}/{pdk}/libs.tech/librelane/config.tcl\n\nSCL Config: {pdk_root}/{pdk}/libs.tech/librelane/{scl}/config.tcl"
  },
  {
    "objectID": "slides/settingOsPdk/settingOsPdk.html#magic",
    "href": "slides/settingOsPdk/settingOsPdk.html#magic",
    "title": "Setting up an OS PDK",
    "section": "MAGIC",
    "text": "MAGIC\nThis step also sets up DRC.\nChecklist:\n\nProcess the given stdcell lefs to create maglefs\nWrite sky130A.tcl\nWrite sky130A.tech\nWrite sky130A.magicrc\n\n\n\n\nSetting up an OS PDK"
  },
  {
    "objectID": "slides/settingOsPdk/settingOsPdk.html#magic-setup-checklist",
    "href": "slides/settingOsPdk/settingOsPdk.html#magic-setup-checklist",
    "title": "Setting up an OS PDK",
    "section": "MAGIC setup checklist",
    "text": "MAGIC setup checklist\nBasically, all layout and signoff-related things (except maybe logic equivalence) are done by magic TCL scripts. Checklist:\n\nProcess the given stdcell lefs to create maglefs\nWrite sky130A.tcl\nWrite sky130A.tech\nWrite sky130A.magicrc\nWrite all the custom TCL, like fillgen.\n\n\n\n\n\n\n\nNote\n\n\nI strongly recommend just copying then changing the fill and DRC scripts from the existing sky130/libs.tech/magic or ihp-sg13g2/libs.tech/magic\n\n\n\n\n\n\nSetting up an OS PDK"
  },
  {
    "objectID": "index.html#secondary-interests",
    "href": "index.html#secondary-interests",
    "title": "Lawrence Quizon",
    "section": "Secondary Interests",
    "text": "Secondary Interests\n\nOpen source hardware everything. Why can’t we have massive Github portfolios of random hardware? (We can)\nThe Linux Kernel for RISCV\nThe very very secret GPU architectures\nApplications of Abstract Math (surprisingly cool)\nTrying to understand General Relativity and Quantum Field Theory working towards understanding AdS/CFT. Primarily because it’s referred to so much in popular media and I’m extremely fascinated with the concept.\nLearning an NVIM workflow, primarily because i’m tired of using VNC."
  },
  {
    "objectID": "notes/RingsAndFields.html",
    "href": "notes/RingsAndFields.html",
    "title": "Rings and Fields",
    "section": "",
    "text": "Abstract algebra is apparently the study of rings and fields plus groups…"
  },
  {
    "objectID": "notes/RingsAndFields.html#why-rings",
    "href": "notes/RingsAndFields.html#why-rings",
    "title": "Rings and Fields",
    "section": "Why rings?",
    "text": "Why rings?\nCommutative algebra is the study of rings. Rings were first delineated when the concept of ideals came about.\nRings have important common properties we take advantage of like unique factorization domains (a type of ring), and a bunch of other mouthful theorems like\n\nMaximal Ideals are one-to-one with Fields (see later section) (\\(M \\text{ maximal} \\iff R/M \\text{ is a field}\\))\n\\(R/\\text{ker}(\\phi)\\cong \\text{im}(\\phi)\\).\n\\(u \\in R\\) is a unit iff \\(\\text{Ideal}(u)=R\\) (defines what a “unit” element is, like 1 or i. Probably useful for induction on weird sets too?)\n\nTl;DR, things close to rings (groups, commutative rings, rings with unique factorization, fields) are useful. Theorems that apply ONLY to rings themselves are a little abstract (heh, pun intended).\nIdeals are subsets of rings (technically called a sublattice, probably because it’s a “discrete vector field” because it’s a linear combination of the ring elements)\nIdeals can be factored, and can be prime.\n\n\n\n\n\n\nWhat is an Ideal?\n\n\n\nAn ideal \\(I\\) is a subset of the ring that absorbs multiplication. If \\(r \\in R\\) and \\(x \\in I\\), then \\(rx \\in I\\). Notation: \\((a, b)\\) is the ideal generated by \\(a\\) and \\(b\\). It implies the set of all linear combinations \\(\\{ra + sb \\mid r, s \\in R\\}\\).\n\n\n\n\n\n\n\n\nNote\n\n\n\nThe Real ring \\(\\mathbb{R}\\) has exactly two ideals: 1. Zero ideal (0) 2. Entire ring (1)\nIt is trivial. This is because when trying to define any other ideal, say (0.001), you accidentally become the (1) ideal because you always have a multiplative inverse.\n\n\n\n\n\n\n\n\nMaximal vs Prime Ideals\n\n\n\nMaximal Ideal: An ideal \\(M\\) is maximal if no other proper ideal \\(J\\) contains \\(M\\) (i.e., \\(M\\subset J\\subset R\\) is impossible). Prime Ideal: An ideal \\(P\\) is prime if for any \\(a,b\\) in the ring, if \\(ab\\in P\\), then \\(a\\in P\\) or \\(b\\in P\\)"
  },
  {
    "objectID": "notes/RingsAndFields.html#function-ideals-and-cotangent-space",
    "href": "notes/RingsAndFields.html#function-ideals-and-cotangent-space",
    "title": "Rings and Fields",
    "section": "Function Ideals and Cotangent space",
    "text": "Function Ideals and Cotangent space\n\n\n\n\n\n\nEssence\n\n\n\nLinking Ideals and Geometry forms the power of abstract algebra\n\n\n\nTODO: Fill in later.\n\n\nQuotient Notation\n\\[R = \\frac{\\mathbb{R}[x,y]}{(y^2 - x^3)}\\] \\[\\text{Cotangent Space} = \\frac{\\mathfrak{m}}{\\mathfrak{m}^2}\\]"
  },
  {
    "objectID": "notes/RingsAndFieldsFixed.html",
    "href": "notes/RingsAndFieldsFixed.html",
    "title": "Rings and Fields",
    "section": "",
    "text": "Abstract algebra is apparently the study of rings and fields plus groups…"
  },
  {
    "objectID": "notes/RingsAndFieldsFixed.html#why-rings",
    "href": "notes/RingsAndFieldsFixed.html#why-rings",
    "title": "Rings and Fields",
    "section": "Why rings?",
    "text": "Why rings?\nRings were first invented to solve Diophantine Equations. commutative algebra is the study of rings. Rings were invented as the concept of ideals.\nIdeals are subsets of rings (technically called a sublattice, probably because it’s a “discrete vector field” because it’s a linear combination of the ring elements)\nIdeals can be factored, and can be prime.\n\n\n\n\n\n\nWhat is an Ideal?\n\n\n\nAn ideal \\(I\\) is a subset of the ring that absorbs multiplication. If \\(r \\in R\\) and \\(x \\in I\\), then \\(rx \\in I\\). Notation: \\((a, b)\\) is the ideal generated by \\(a\\) and \\(b\\). It implies the set of all linear combinations \\(\\{ra + sb \\mid r, s \\in R\\}\\).\n\n\n\n\n\n\n\n\nNote\n\n\n\nThe Real ring \\(\\mathbb{R}\\) has exactly two ideals: 1. Zero ideal (0) 2. Entire ring (1)\nIt is trivial. This is because when trying to define any other ideal, say (0.001), you accidentally become the (1) ideal because you always have a multiplative inverse.\n\n\n\n\n\n\n\n\nMaximal vs Prime Ideals\n\n\n\nMaximal Ideal: An ideal \\(M\\) is maximal if no other proper ideal \\(J\\) contains \\(M\\) (i.e., \\(M\\subset J\\subset R\\) is impossible). Prime Ideal: An ideal \\(P\\) is prime if for any \\(a,b\\) in the ring, if \\(ab\\in P\\), then \\(a\\in P\\) or \\(b\\in P\\)"
  },
  {
    "objectID": "notes/RingsAndFieldsFixed.html#function-ideals-and-cotangent-space",
    "href": "notes/RingsAndFieldsFixed.html#function-ideals-and-cotangent-space",
    "title": "Rings and Fields",
    "section": "Function Ideals and Cotangent space",
    "text": "Function Ideals and Cotangent space\n\n\n\n\n\n\nEssence\n\n\n\nLinking Ideals and Geometry forms the power of abstract algebra\n\n\n\nTODO: Fill in later. ### Quotient Notation\n\n\\[R = \\frac{\\mathbb{R}[x,y]}{(y^2 - x^3)}\\] \\[\\text{Cotangent Space} = \\frac{\\mathfrak{m}}{\\mathfrak{m}^2}\\] # Vector spaces\n\n\n\n\n\n\nNote\n\n\n\nVector spaces are - Abelian Groups - sets closed under one operation that is associative, commutative, has an identity and inverses. - Scalable by a Field - must be multipliable by some field that still keeps it closed."
  },
  {
    "objectID": "notes/Derivation of the Lorentz Transformation.html",
    "href": "notes/Derivation of the Lorentz Transformation.html",
    "title": "Derivation of the Lorentz Transformation",
    "section": "",
    "text": "The observation goes as follows:\n\n[!question] Observation: - The speed of light is \\(c\\) in all inertial frames of reference - Hence, time and space must warp (transform) in order to make movement (velocity) slower when an object is moving relativistically.\n\nHence, consider a 1D space where two objects A and B are moving relative to each other at a velocity \\(v\\). Both objects have a pair of mirror separated by a distance \\(x\\) with a laser bouncing back and forth.\nFrom object A, the speed of its own laser is \\(c\\) and space is warped by a factor of \\(1\\) (unwarped).\nFrom object B, the observed speed of A’s laser has to be \\(c\\).\nSo then from the perspective of B, the laser has to catch up to the A mirror moving at \\(v\\). The laser would have then been travelling at \\(c-v\\) relative to the A mirror and would have taken \\(\\frac{x}{c-v}\\) time to get there, as opposed to \\(x/c\\).\nThen, for the return trip, the laser would take \\(x/(c+v)\\) time. So then the total time for the laser to bounce has become:\n\\[t'=\\frac{x}{c-v}+\\frac{x}{c+v}=x(\\frac{1}{c-v}+\\frac{1}{c+v})=x(\\frac{2c}{c^2-v^2})\\]\nSolving for the time dilation factor,\n\\[t'/t=[x(\\frac{2c}{c^2-v^2})]\\frac{c}{2x}=\\frac{c^2}{c^2-v^2}=\\frac{1}{1-\\frac{v^2}{c^2}}\\]\n\nThe perpendicular mode\nLet’s then assume the same situation but the mirrors pointed perpendicular to the direction of moment.\nThen, the laser will have to travel the hypotenuse of a triangle with side lengths \\(x\\) and the length object A has travelled in the time it takes for the laser to reach the mirror \\(vt'/2\\).\nThe path of the laser after it’s been reflected is symmetric to this. Hence, the time dilation factor should be the same for half the time.\nSo then, the time\n\\[t_h'=\\frac{\\sqrt{x^2+vt_h'^2}}{c}\\]\n\\[t_h'^2=\\frac{x^2+v^2t_h'^2}{c^2}\\]\n\\[c^2t_h'^2-v^2t_h'^2-x^2=0\\]\n\\[t_h'^2(c^2-v^2)=x^2\\]\n\\[t_h'^2=\\frac{x^2}{c^2-v^2}\\]\n\\[t_h'^2=\\frac{x^2}{c^2}\\frac{1}{1-\\frac{v^2}{c^2}}\\]\n\\[t_h'^2/t_h^2=\\frac{1}{1-v^2/c^2}\\]\n\\[l=\\frac{1}{\\sqrt{1-\\frac{v^2}{c^2}}}\\]\n\n\nLength Contraction\nSo then, we find that the time it takes for the laser to finish a cycle is different in these cases.\nThis indicates that space should have warped one of the cases so that both clocks still finish at the same time.\n\\[\\frac{x^2}{c^2-v^2}=x'^2\\frac{c^2}{(c^2-v^2)^2}\\]\n\\[\\frac{x'}{x}=\\sqrt\\frac{c^2-v^2}{c^2}\\]\n\\[\\frac{x'}{x}=\\sqrt{1-\\frac{v^2}{c^2}}&lt;1\\]\nand we find that length contracts in the parallel case."
  },
  {
    "objectID": "notes/derivationOfTheLorentzTransformation.html",
    "href": "notes/derivationOfTheLorentzTransformation.html",
    "title": "Derivation of the Lorentz Transformation",
    "section": "",
    "text": "The observation goes as follows:\n\n[!question] Observation: - The speed of light is \\(c\\) in all inertial frames of reference - Hence, time and space must warp (transform) in order to make movement (velocity) slower when an object is moving relativistically.\n\nHence, consider a 1D space where two objects A and B are moving relative to each other at a velocity \\(v\\). Both objects have a pair of mirror separated by a distance \\(x\\) with a laser bouncing back and forth.\nFrom object A, the speed of its own laser is \\(c\\) and space is warped by a factor of \\(1\\) (unwarped).\nFrom object B, the observed speed of A’s laser has to be \\(c\\).\nSo then from the perspective of B, the laser has to catch up to the A mirror moving at \\(v\\). The laser would have then been travelling at \\(c-v\\) relative to the A mirror and would have taken \\(\\frac{x}{c-v}\\) time to get there, as opposed to \\(x/c\\).\nThen, for the return trip, the laser would take \\(x/(c+v)\\) time. So then the total time for the laser to bounce has become:\n\\[t'=\\frac{x}{c-v}+\\frac{x}{c+v}=x(\\frac{1}{c-v}+\\frac{1}{c+v})=x(\\frac{2c}{c^2-v^2})\\]\nSolving for the time dilation factor,\n\\[t'/t=[x(\\frac{2c}{c^2-v^2})]\\frac{c}{2x}=\\frac{c^2}{c^2-v^2}=\\frac{1}{1-\\frac{v^2}{c^2}}\\]\n\nThe perpendicular mode\nLet’s then assume the same situation but the mirrors pointed perpendicular to the direction of moment.\nThen, the laser will have to travel the hypotenuse of a triangle with side lengths \\(x\\) and the length object A has travelled in the time it takes for the laser to reach the mirror \\(vt'/2\\).\nThe path of the laser after it’s been reflected is symmetric to this. Hence, the time dilation factor should be the same for half the time.\nSo then, the time\n\\[t_h'=\\frac{\\sqrt{x^2+vt_h'^2}}{c}\\]\n\\[t_h'^2=\\frac{x^2+v^2t_h'^2}{c^2}\\]\n\\[c^2t_h'^2-v^2t_h'^2-x^2=0\\]\n\\[t_h'^2(c^2-v^2)=x^2\\]\n\\[t_h'^2=\\frac{x^2}{c^2-v^2}\\]\n\\[t_h'^2=\\frac{x^2}{c^2}\\frac{1}{1-\\frac{v^2}{c^2}}\\]\n\\[t_h'^2/t_h^2=\\frac{1}{1-v^2/c^2}\\]\n\\[l=\\frac{1}{\\sqrt{1-\\frac{v^2}{c^2}}}\\]\n\n\nLength Contraction\nSo then, we find that the time it takes for the laser to finish a cycle is different in these cases.\nThis indicates that space should have warped one of the cases so that both clocks still finish at the same time.\n\\[\\frac{x^2}{c^2-v^2}=x'^2\\frac{c^2}{(c^2-v^2)^2}\\]\n\\[\\frac{x'}{x}=\\sqrt\\frac{c^2-v^2}{c^2}\\]\n\\[\\frac{x'}{x}=\\sqrt{1-\\frac{v^2}{c^2}}&lt;1\\]\nand we find that length contracts in the parallel case."
  },
  {
    "objectID": "notes/wavefunctionsBrasKets.html",
    "href": "notes/wavefunctionsBrasKets.html",
    "title": "Wavefunctions, Bras, Kets",
    "section": "",
    "text": "References\n\n\n\n\nAllan Adams MIT 8.04\nLancaster, Tom, and Stephen J. Blundell. Quantum field theory for the gifted amateur. OUP Oxford, 2014."
  },
  {
    "objectID": "notes/wavefunctionsBrasKets.html#how-is-this-related-to-the-fourier-transform-though",
    "href": "notes/wavefunctionsBrasKets.html#how-is-this-related-to-the-fourier-transform-though",
    "title": "Wavefunctions, Bras, Kets",
    "section": "How is this related to the fourier transform though?",
    "text": "How is this related to the fourier transform though?\nFirst, It’s a fundamental observation that waves have energy \\[E=\\hbar\\omega=h\\nu\\] \\[p=\\hbar k=h/\\lambda\\] Then, DeBroglie postulated that everything obeys this law.\nSecondly, we know a correspondence between the wavefunction \\(\\psi(x)\\) and the momentum. Quite easily, if \\[\\psi(x)=e^{-ikx}\\] Then we can identify \\(k\\) as the wavelength as postulated earlier.\n\nThen, since all valid wavefunctions can be formed from superpositions, then we can sum an infinite number of plane waves whose \\(k\\) is definite to form an arbitrary wavefunction with a “hard-to-determine” \\(k\\), as in Fourier’s theorem. \\[\\psi(x) = \\frac{1}{2\\pi}\\int^{\\infty}_{-\\infty}\\psi(k)e^{ikx}dx\\] ::: {.callout-important title=“Wait…”} Where does \\(1/2\\pi\\) come from in this derivation? Probably some sort of normalization. :::"
  },
  {
    "objectID": "notes/Observer falls into the black hole, becomes Nostradamus.html",
    "href": "notes/Observer falls into the black hole, becomes Nostradamus.html",
    "title": "Observer falls into the black hole, becomes Nostradamus",
    "section": "",
    "text": "Someone on the inside of a black hole can observe the outside of the black hole\nThe observer falling through the event horizon can fall through it in finite local time\nSomeone watching from afar will see that the object falling into the event horizon takes infinite time.\nHence, the observer can watch the entire fate of the universe happen just as they fall into the event horizon?\n\n\nCaveats and Counters\n\nIf a photon falls into the event horizon later than the initial observer, then would it catch up to the observer?\n\nIf the observer is moving at less than \\(c\\), the photon will catch up.\nHence, this is not a counterargument. Photons about the outside WILL reach the eyes of the observer.\n\nThe data becomes impossibly redshifted as it falls into your eyes.\n\nIf you’re not yet through the event horizon, it won’t be “impossibly” redshifted. It’s red, but still observably so.\n\n\n\n\nThe true crowdsourced answer\n\nThe object doesn’t take infinite time to fall into a black hole as observed from outside. However, the light left behind by the object takes basically forever to show that.\nIt is impossible for the object’s light to show it crossing through the event horizon.\n\n\nIf the observer is moving at less than \\(c\\), the photon will catch up.\n\nThis is false. The photon cannot catch up says some reddit user.\nWe’ll need some treatment of the Kruzskal-Szekerez coordinates to confirm if this is the case."
  },
  {
    "objectID": "notes/Lagrangians, Hamiltonians.html",
    "href": "notes/Lagrangians, Hamiltonians.html",
    "title": "Lagrangians, Hamiltonians",
    "section": "",
    "text": "The Lagrangian\n\\(\\frac{d}{dt}(\\frac{\\partial{L}}{\\partial{\\ddot{x}}})=-\\frac{\\partial{L}}{\\partial{x}}\\)\nis related to the Hamiltonian via phase space transformation\n\\(\\frac{dq}{dt}=\\frac{\\partial{H}}{\\partial{p}}\\)\n\\(\\frac{dp}{dt}=-\\frac{\\partial{H}}{\\partial{q}}\\)\n\nCoordinate Systems\nA standard coordinate system is like \\((q,\\dot q)\\) or \\((x,\\dot x)\\).\nIn Hamiltonian mechanics, this system turns into \\((x,mv)\\) or \\((p,q)\\) instead.\n\n\nMGH in Lagrangian\nLet’s consider the dynamic of a falling point object in Lagrangian mechanics.\nThen,\n\\(L= T-V\\)\nso the kinetic energy is\n\\(T=\\frac{1}{2}m\\dot x^2\\)\nand the potential energy is just\n\\(V=-mgx\\)\nso then\n\\(L=\\frac{1}{2}m\\dot x^2 + mgx\\)\nsolving the lagrangian gives us\n\\(m\\ddot x=-mg\\)\nor then that\n\\(a=-g\\)\nwhich is obvious.\n\n\nMGH in Hamiltonian Phase\nLet’s consider the dynamics of a falling point in Hamiltonian mechanics.\nThen, the Hamiltonian is\n\\(H=T+ V\\)\n\nGiven that T and V are written in terms of only P and Q\n\nThen if\n\\(T=\\frac{1}{2}mv^2\\)\nand\n\\(p=mv\\)\nthen\n\\(T=\\frac{1}{2}pv=\\frac{p^2}{2m}\\)\nand\n\\(V=-mgx=-mgq\\)\nwhich is already a valid Hamiltonian description\nso then\n\\(H=\\frac{p^2}{2m}-mgq\\)\nsolving the phase equation we have\n\\(\\frac{dp}{dt} = -\\frac{\\partial H}{\\partial q}\\)\n\\(F=-mg\\)\nwhich is true, (\\(F=\\frac{dp}{dt}\\))\nand solving the position equation we have\n\\(\\frac{dq}{dt}=\\frac{p}{m}\\)\nwhich is funnily a redundant equation saying\n\\(v=\\frac{mv}{m}\\)\nThe more apt description of the system in Hamiltonian mechanics is though\n\\(\\dot p=-mg\\)\n\\(\\dot q=\\frac{p}{m}\\)\nwhich are used as coupled first-order ODEs which can be mathematically easier to solve.\n\n\nMomentum from the Lagrangian\n\\(p=\\frac{\\partial L}{\\partial \\dot q}\\)\nWas defined by Lagrange beforehand- not as a relation to Hamiltonian Mechanics.\nThe legendre transform is mathematically\n\\(Df=(Df^*)^{-1}\\)\nbut is defined mechanically as\n\\((q,\\dot q) \\rightarrow (p,q)\\)\nand it can be used to turn the Lagrangian into the Hamiltonian.\n\\(\\frac{d}{dt}(\\frac{\\partial{L}}{\\partial{\\ddot{x}}})=-\\frac{\\partial{L}}{\\partial{x}}\\)\nso\n\n\nAside: Definition of Hamiltonian from Lagrangian\n\\(H=\\sum_i^n{p_i\\dot q^i}-L\\)\nso then if \\(p_i\\dot q^i\\) is \\(mv^2/2\\) then simply\n\\(H=T-(T-V)=V\\)???\n\n\nDerivation of the Lagrange-Euler Equations\nThis is called the “principle of least action”.\nThe action \\(S\\) must be minimized\n\\(S\\equiv \\int_{t_0}^{t_1}Ldt\\)\nso then this is equivalent to saying that any small perturbation on \\(L\\) must not affect the value of \\(S\\)\nso then some \\(x(t)\\) solution to this that is perturbed a little bit by some arbitrary function that is zero at the bounds \\(t_0\\) and \\(t_1\\)\n\\(x(t)=x_0(t)+a\\beta(t)\\)\nshould not change \\(S\\) for small changes in \\(a\\) so then\n\\(\\frac{dS}{da}=0\\)\n\\(\\frac{dS}{da}=\\int_{t_0}^{t_1}\\frac{dL}{da}dt\\)\n\\(\\frac{dS}{da}=\\int_{t_0}^{t_1}(\\frac{dL}{dx}\\frac{dx}{da}+\\frac{dL}{d\\dot x}\\frac{d\\dot x}{da})dt\\)\nbut note that\n\\(\\frac{dx}{da}=\\beta(t)\\) and\n\\(\\dot x=\\frac{dx}{dt}=\\frac{dx_0}{dt}+a\\frac{d\\beta}{dt}\\)\nso\n\\(\\frac{d\\dot x}{dt}=\\dot \\beta\\)\nand then\n\\(\\frac{dS}{da}=\\int_{t_0}^{t_1}(\\frac{dL}{dx}\\beta+\\frac{dL}{d\\dot x}\\dot \\beta )dt\\)\nand then we can integrate by parts the latter side since \\(\\dot \\beta dt=d\\beta\\)\n\\(\\int \\frac{dL}{d \\dot x}d\\beta=\\frac{dL}{d\\dot x}\\beta-\\int\\beta du\\)\nand \\(\\frac{du}{dt}=\\frac{d}{dt}\\frac{dL}{d\\dot x}\\)\n\\(\\int \\frac{dL}{d \\dot x}d\\beta=\\frac{dL}{d\\dot x}\\beta-\\int\\beta \\frac{d}{dt}\\frac{dL}{d\\dot x}dt\\)\nso then\n\\(\\frac{dS}{da}=\\int_{t_0}^{t_1}(\\frac{dL}{dx}\\beta+\\beta \\frac{d}{dt}\\frac{dL}{d\\dot x})dt-\\frac{dL}{d\\dot x}\\beta \\bigg\\rvert_{t_0}^{t_1}\\)\nbut \\(\\beta(t_1)=\\beta(t_0)=0\\) so then \\(-\\frac{dL}{d\\dot x}\\beta \\bigg\\rvert_{t_0}^{t_1}=0\\)\nand remains\n\\(\\frac{dS}{da}=\\int_{t_0}^{t_1}(\\frac{dL}{dx}\\beta+\\beta \\frac{d}{dt}\\frac{dL}{d\\dot x})dt\\)\n\\(\\frac{dS}{da}=\\int_{t_0}^{t_1}\\beta\n(\\frac{dL}{dx}+ \\frac{d}{dt}\\frac{dL}{d\\dot x})dt\\)\nnow we’re arguing that for any function \\(\\beta(t)\\)** this evaluates to zero.**\nConsider the case where \\(\\frac{dL}{dx}+ \\frac{d}{dt}\\frac{dL}{d\\dot x}\\neq0\\). Then, we can choose also a nonzero \\(\\beta(t)\\) for that portion and see that \\(\\frac{dS}{da}\\neq0\\) for smooth, integrable \\(L\\) on \\(x,\\dot x\\). Therefore,\n\\(\\frac{dL}{dx}+ \\frac{d}{dt}\\frac{dL}{d\\dot x}=0\\)\nwhich is the Euler-Lagrange equation.\n\n\nEvaluating for polynomial with zeros only at the bounds\nLet’s say we have a falling particle in a gravity field. Then,\n\\(L=T-V=\\frac{1}{2}my'^2-mgy\\)\n\\(y''=-g\\)\n\\(y=-\\frac{1}{2}gt^2\\)\nLet’s pretend the bounds are \\(t\\in[t_0,t_1]\\). Then,\n\\(y=-\\frac{1}{2}gt^2+\\epsilon (t-t_0)(t-t_1)\\)\nshould make it so that \\(\\frac{dS}{d\\epsilon}\\rightarrow0\\) as \\(\\epsilon \\rightarrow 0\\) i.e. \\(\\frac{dS}{d\\epsilon}\\bigg\\rvert_{\\epsilon=0}=0\\)\n\\(\\frac{dS}{d\\epsilon}=\\int_{t_0}^{t_1}{\\frac{dL}{d\\epsilon}dt}\\)\n\\(\\int(my'\\frac{dy'}{d\\epsilon}-mg\\frac{dy}{d\\epsilon})dt\\)\n\\(y'=-gt+\\epsilon(2t-t_0-t_1)\\)\n\\(\\frac{dy'}{d\\epsilon}=2t-t_0-t_1\\)\n\\(\\frac{dy}{d\\epsilon}=(t-t_0)(t-t_1)\\)\n\\(m\\int((-gt+\\epsilon(2t-t_0-t_1))(2t-t_0-t_1)-g(t-t_0)(t-t_1))dt\\)\n\\(m\\int(-gt(2t-t_0-t_1)+\\epsilon(2t-t_0-t_1^2)-g(t-t_0)(t-t_1))dt\\)\nThen, because epsilon goes to zero, we can remove epsilon terms.\n\\(m\\int(-gt(2t-t_0-t_1)-g(t^2-t(t_0+t_1)+t_0t_1))dt\\)\n\\(mg\\int(-2t^2+t(t_0+t_1)-t^2+t(t_0+t_1)-t_0t_1))dt\\)\n\\(mg\\int(-3t^2+2t(t_0+t_1)-t_0t_1))dt\\)\n\\(mg[-t^3+t^2(t_0+t_1)-tt_0t_1]\\big\\rvert_{t_0}^{t_1}\\)\n\\(mg([-t_1^3+t_1^3+t_1^2t_0-t_1^2t_0]-[-t_0^3+t_0^3+t_1t_0^2-t_0^2t_1])\\)\n\\(=0\\)\n\n\nWhat about for completely arbitrary perturbation functions?\n\\(f(t_0)=0,f(t_1)=0\\)\nLet’s pretend the bounds are \\(t\\in[t_0,t_1]\\). Then,\n\\(y=-\\frac{1}{2}gt^2+\\epsilon f(t)\\)\nshould make it so that \\(\\frac{dS}{d\\epsilon}\\rightarrow0\\) as \\(\\epsilon \\rightarrow 0\\) i.e. \\(\\frac{dS}{d\\epsilon}\\bigg\\rvert_{\\epsilon=0}=0\\)\n\\(y'=-gt+\\epsilon f'(t)\\)\n\\(\\frac{dy'}{d\\epsilon}=f'(t)\\)\n\\(\\frac{dy}{d\\epsilon}=f(t)\\)\nThen if\n\\(L=\\frac{my'^2}{2}-mgy\\)\n\\(\\int(my'\\frac{dy'}{d\\epsilon}-mg\\frac{dy}{d\\epsilon})dt\\)\n\\(\\int(m(-gt+\\epsilon f'(t))f'(t)-mgf'(t))dt\\)\n\\(m\\int(-gtf'(t)+\\epsilon f'(t)^2-gf'(t))dt\\)\n\\(m\\int(-(gt+g)f'(t)+\\epsilon f'(t)^2)dt\\)\nThen, again, \\(\\epsilon \\rightarrow 0\\)\n\\(m\\int(-(gt+g)f'(t))dt\\)\n\\(mg\\int(-(t+1)f'(t))dt\\)\n\\(mg\\int-(t+1)f'(t)dt\\)\n\\(mg\\int-(t+1)f'(t)dt\\)\n\\(mg(\\int-tf'(t)dt-\\int f'(t)dt)\\)\nRemove mg, since that doesn’t matter, then distribute\n\\(\\int-tf'(t)dt-f(t)\\rvert_{t_0}^{t_1}\\)\n\\(\\int-tf'(t)dt\\)\nthen via substitution\n\\(du=f'(t)dt\\)\n\\(u=f(t)\\)\n\\(\\int-tdu\\)\n\\(-ut\\)\n\\(-tf(t)\\big\\rvert_{t_0}^{t_1}\\)\n\\(0\\)\nTurns out, the subsitution above is illegal because \\(t=f^{-1}(u)\\)\nMaking the solution more general than this would require some sort of general description of functions that solve the EL equation? Or actually, can any lagrangian work so long as \\(T\\) describes a kinetic-like energy and \\(V\\) describes a conservative field?\n\\(\\frac{d}{dt}(\\frac{dL}{dy'})=-\\frac{dL}{dy}\\)\n\n\nGeneralized d-dimensional Dirac Delta\n\\(\\int d^dx\\delta^{(d)}(x)=1\\)\nthen the fourier transform is\n\\(\\int e^{ikx}d^dx\\delta^{(d)}(x)\\)\nbut via the sifting property\n\\(\\int f(x) \\delta^{(d)}(x)d^{d}x=f(0)\\)\nso then\n\\(\\int e^{ikx}d^dx\\delta^{(d)}(x)=e^{ik0}=1\\)"
  },
  {
    "objectID": "notes/Metrics and Manifolds.html",
    "href": "notes/Metrics and Manifolds.html",
    "title": "Metrics and Manifolds",
    "section": "",
    "text": "Manifolds have many points \\(p\\) with some coordinates.\nManifold definition To be a manifold, for any point \\(p\\), there is an open set of points \\(U\\) such that \\(\\phi(U)\\) is an open set in \\(R^n\\) \\(\\phi\\) has to be a continuous bijection and so \\(\\phi(U)\\) has to be a joint, connected set\nExtra info (Set theorem): &gt; *If \\(A\\) is a collection of connected sets and \\(\\cap A\\) is non-empty, &gt; then \\(\\cup A\\) is connected.\n\n\nFrom the definition of an open set in Euclidean space\nfor any point in an open set you can draw a ball that stays entirely within the set\na ball is a set within \\(\\epsilon\\) distance of some center point in this case, the center is the point \\(p\\)\n\n*but open sets aren’t necessarily continuous. Take for example the set of points \\(f(x)=1/x\\) where \\(x \\in (0,1)\\) This is an open set but it’s discontinuous."
  },
  {
    "objectID": "notes/Metrics and Manifolds.html#open-sets-are-unions-of-balls",
    "href": "notes/Metrics and Manifolds.html#open-sets-are-unions-of-balls",
    "title": "Metrics and Manifolds",
    "section": "",
    "text": "From the definition of an open set in Euclidean space\nfor any point in an open set you can draw a ball that stays entirely within the set\na ball is a set within \\(\\epsilon\\) distance of some center point in this case, the center is the point \\(p\\)\n\n*but open sets aren’t necessarily continuous. Take for example the set of points \\(f(x)=1/x\\) where \\(x \\in (0,1)\\) This is an open set but it’s discontinuous."
  },
  {
    "objectID": "notes/Metrics and Manifolds.html#length-of-a-tropic",
    "href": "notes/Metrics and Manifolds.html#length-of-a-tropic",
    "title": "Metrics and Manifolds",
    "section": "Length of a tropic",
    "text": "Length of a tropic\nFor example, then, we can use this metric to compute the length of a tropic at azimuth \\(\\theta_0\\).\n\\[ds^2=R^2d\\theta^2+R^2\\sin^2{\\theta} d\\phi^2\\] Since \\(d\\theta=0\\) (constant) then \\[ds=R\\sin{\\theta_0}d\\phi\\] \\[L=\\int ds\\] We also need to apply the limits of the curve so… \\[L=\\int_0^{2\\pi}{R\\sin{\\theta_0}d\\phi}\\] \\[L=2\\pi R\\sin{\\theta_0}\\] Which is something we’ve always known in high school geometry anyway."
  },
  {
    "objectID": "notes/Metrics and Manifolds.html#length-of-a-circular-fence-on-the-earth",
    "href": "notes/Metrics and Manifolds.html#length-of-a-circular-fence-on-the-earth",
    "title": "Metrics and Manifolds",
    "section": "Length of a circular fence on the earth",
    "text": "Length of a circular fence on the earth\n\n\n\n\n\n\nAnecdote\n\n\n\nOnce upon a time, there was a millionaire who challenged 3 of his farmers in exchange for his entire fortune. “I shall give my entire fortune to the one who can make a fence that covers the largest possible area!” and so all of the farmers put in their best efforts. The first farmer made a square fence. The second farmer scoffed at him. He knew that for any 2D shape, the highest area-to-perimeter belongs to the circle. And so, the second farmer built the largest circular fence he could with the available material. He then saw the third farmer’s fence, which was also circular, but it was extremely small “You clearly lose. Why didn’t you try building it larger?” The third farmer then said: “It’s simple.” The third farmer steps into the circle of his fence. “This part is on the outside of my fence.”\n\n\nNow how is this relevant? It’s not. I just remembered that story. Anyway, let’s try to draw a circle around the Philippines. What would be the true perimeter of that circle? Since it lies on a sphere, it has to be smaller than it would be on a flat plane. This is because the radius \\(r\\) of the sphere as measured by an ant is larger than the actual radius (it’s actually an arc length for us gods).\nAnd it’s at this point that I realize, this is the same problem as that of the length of the tropic. We just changed the coordinates (center is somewhere in the Philippines instead of one of the poles).\nSo let’s change the problem to that of a square."
  },
  {
    "objectID": "notes/Metrics and Manifolds.html#length-of-the-square-fence-on-earth",
    "href": "notes/Metrics and Manifolds.html#length-of-the-square-fence-on-earth",
    "title": "Metrics and Manifolds",
    "section": "Length of the square fence on Earth",
    "text": "Length of the square fence on Earth\nFor simplicity, let’s build a massive square fence spanning \\(\\pi/4\\) rad around the earth all around.\nSo then we can just sum up the 4 arc lengths that produce this.\nWe have four sections: - \\(\\theta \\in [0,\\pi/4], \\phi=0\\) - \\(\\phi \\in [0,\\pi/4], \\theta=\\pi/4\\) - \\(\\phi \\in [0,\\pi/4], \\theta=0\\) - \\(\\theta \\in [0,\\pi/4], \\phi=\\pi/4\\)\n\nNote: \\(\\theta\\) is the polar angle, the colatitude.\n\nSo then, we have 4 different integrals. For 2 and 3, we have \\(\\frac{\\pi}{4} R \\frac{\\sqrt{2}}{2}\\) and \\(0\\) For 1 and 4, we have that \\(ds^2=R^2d\\theta^2+R^2\\sin^2{\\theta}d\\phi^2\\) \\(ds^2=R^2d\\theta^2\\) \\(ds=Rd\\theta\\) \\(L=\\int_0^{\\pi/4}{Rd\\theta}\\) \\(L=\\frac{\\pi}{4}R\\) regardless of \\(\\phi\\).\nso we get \\[L=\\frac{\\pi}{4}R(\\frac{\\sqrt{2}}{2}+2)\\] &gt; Funnily, the zero makes sense because if \\(\\theta\\) is a polar angle, the square fence we made is actually a triangle where one of the vertices is at the pole"
  },
  {
    "objectID": "notes/Interesting Quantization Observations.html",
    "href": "notes/Interesting Quantization Observations.html",
    "title": "Interesting Quantization Observations",
    "section": "",
    "text": "Spreads, RMSE and SNR vs Bits\nWith playing around with code from github.com/Lawrence-lugs/hwacc_design_garage\nwDimX = 8\nwDimY = 128\nxBatches = 10\nwBits = 8\nxBits = 8\nseed = 0\noutBits = 8\n# np.random.seed(seed)\n\nwShape = (wDimX, wDimY)\nxShape = (xBatches, wDimY)\n\nw = np.random.uniform(-1, 1, wShape)\nx = np.random.uniform(-1, 1, xShape)\nwx = w @ x.T\n\n# Calculate the output scale\nwx_qtensor = quant.quantized_tensor(\n    real_values=wx,\n    precision=outBits,\n    mode='maxmin'\n)\n\n# Set numpy printing to at most 3 significant digits\nnp.set_printoptions(precision=3)\n\n# print('w\\n',w)\n# print('x\\n',x)\n# print('wx\\n',wx)\n\n# Quantize the weights and input\nwQ = quant.quantized_tensor(\n    real_values=w,\n    precision=wBits,\n    mode='maxmin'\n)\nxQ = quant.quantized_tensor(\n    real_values=x,\n    precision=xBits,\n    mode='maxmin'\n)\nwQxQ_qvals_t = wQ.quantized_values @ xQ.quantized_values.T\n\nout_scale = wx_qtensor.scale\n\nwQxQ_t = quant.quantized_tensor(\n    quantized_values=wQxQ_qvals_t,\n    scale=out_scale,\n    zero_point = 0\n)\n\nwQxQ = quant.scaling_quantized_matmul(\n    wQ, xQ, outBits, internalPrecision=16, out_scale = out_scale\n)\n\nimport matplotlib.pyplot as plt\n\nplt.scatter(wx.flatten(), wQxQ.fake_quantized_values.flatten())\n\nwx, wQxQ.fake_quantized_values, wQxQ.quantized_values\nChanging wBits, xBits and outBits gives some interesting tradeoffs\n\n\n\nimage.png\n\n\n\n\n\nimage.png\n\n\n\n\n\nimage.png\n\n\n\n\n\nimage.png\n\n\n\n\n\nimage.png\n\n\n\n\n\nimage.png\n\n\n\n\n\nimage.png\n\n\n\n\n\nimage.png\n\n\nThere should be some mathematical expected SNR based on quantization that corresponds to these.\n\n\nWeight Quantization\nweights need at least 2 bits to be viable in the ternary form\nthey don’t seem to quantize into -2 because it’s symmetric over the zero point\n\n\n\nimage.png\n\n\nWith 1-bit quantization, only zeros appear because the zero point is 0, yet there’s only 1 bit to represent everything.\n\nADC Outputs and Encoding\n00 0000 0000\n98 7654 3210"
  },
  {
    "objectID": "notes/HypercoreX  Structure.html",
    "href": "notes/HypercoreX  Structure.html",
    "title": "HyperCoreX Code Structure",
    "section": "",
    "text": "asd\n\n\n\n\n\n\n\n\nNote\n\n\n\nHyperCoreX is Sir Ry’s General-purpose accelerator for Hyperdimensional Computing. We’d wanted to do something like this before.\n\n\n\nCSRs\nCORE_SET_ADDR_REG contains the core set of registers, including W0 Start Core and W0 Core Clear\nCORE_SET_REG_ADDR: begin\n  csr_rd_data = {\n                                                           // verilog_lint: waive-start line-length\n                                 {(CsrDataWidth-5){1'b0}}, // [31:5] -- Unused\n                                                     1'b0, //    [6] WO Core clear (generates pulse)\n  csr_set[CORE_SET_REG_ADDR][  CORE_SET_IMB_MUX_BIT_ADDR], //    [5] RW IMB MUX\n  csr_set[CORE_SET_REG_ADDR][4:CORE_SET_IMA_MUX_BIT_ADDR], //    [4:3] RW IMA MUX\n  csr_set[CORE_SET_REG_ADDR][ CORE_SET_SEQ_TEST_BIT_ADDR], //    [2] RW Sequential test\n                                               csr_busy_i, //    [1] RO Busy\n                                                     1'b0  //    [0] WO Start Core (generates pulse)\n                                                           // verilog_lint: waive-stop line-length\n  };\nTo actually start the accelerator, the start output is derived like so:\n    csr_start_o                = csr_write_req &&\n                                (csr_req_addr_i == CORE_SET_REG_ADDR) &&\n                                 csr_req_data_i[CORE_SET_START_CORE_BIT_ADDR];\nWhere csr_write_req =  csr_req_success & csr_req_write_i indicates a write request with a successful ready valid handshake\nand csr_req_success = csr_req_valid_i & csr_req_ready_o indicates a valid ready handshake\n\nIn the above, csr_req_data_i is read directly to find the trigger signal, not the CSR. Hence, the actual location in the CSR gets written the trigger bit, but it never actually gets used.\n\n\nThat means in the first trigger after nrst, it gets written to 1 and stays 1 forever.\n\nWhere does start go after that?\n\n\nOverall Architecture\n\nWhere does start go?\n\nTop level blocks:\n\ninst_decode\ninst_control\ncsr\nupdate_counter s — 2 of them\ndata_slicer\nitem_memory_top\nhv_encoder\nassoc_mem\n\nThe overall architecture seems to be an HDC vector processor with an instruction memory and instructions. The instructions don’t seem to come from outside, since there are no entrances for that.\n\n\nInstruction Handling\ninst_control contains the PC and a reg_file_1w1r (some replaceable IP, probably) which is the actual instruction memory\nmodule inst_control # (\n  parameter int unsigned RegAddrWidth       = 32,\n  parameter int unsigned InstMemDepth       = 128,\n  // Don't touch!\n  parameter int unsigned LoopNumStates      = 4,\n  parameter int unsigned InstLoopCountWidth = 10,\n  parameter int unsigned LoopNumWidth       = $clog2(LoopNumStates),\n  parameter int unsigned InstMemAddrWidth   = $clog2(InstMemDepth)\n)(\n  // Clocks and reset\n  input  logic                        clk_i,\n  input  logic                        rst_ni,\n  // Control signals\n  input  logic                        clr_i,\n  input  logic                        start_i,\n  input  logic                        stall_i,\n  output logic                        enable_o,\n  // Instruction update signals\n  input  logic                        inst_pc_reset_i,\n  input  logic                        inst_wr_mode_i,\n  input  logic [InstMemAddrWidth-1:0] inst_wr_addr_i,\n  input  logic                        inst_wr_addr_en_i,\n  input  logic [RegAddrWidth-1:0]     inst_wr_data_i,\n  input  logic                        inst_wr_data_en_i,\n  output logic [InstMemAddrWidth-1:0] inst_pc_o,\n  output logic [RegAddrWidth-1:0]     inst_rd_o,\n  // CSR control for loop control\n  input  logic [LoopNumWidth-1:0]     inst_loop_mode_i,\n  input  logic [InstMemAddrWidth-1:0] inst_loop_jump_addr1_i,\n  input  logic [InstMemAddrWidth-1:0] inst_loop_jump_addr2_i,\n  input  logic [InstMemAddrWidth-1:0] inst_loop_jump_addr3_i,\n  input  logic [InstMemAddrWidth-1:0] inst_loop_end_addr1_i,\n  input  logic [InstMemAddrWidth-1:0] inst_loop_end_addr2_i,\n  input  logic [InstMemAddrWidth-1:0] inst_loop_end_addr3_i,\n  input  logic [InstLoopCountWidth-1:0] inst_loop_count_addr1_i,\n  input  logic [InstLoopCountWidth-1:0] inst_loop_count_addr2_i,\n  input  logic [InstLoopCountWidth-1:0] inst_loop_count_addr3_i,\n  // Debug control signals\n  input  logic                        dbg_en_i,\n  input  logic [InstMemAddrWidth-1:0] dbg_addr_i\n);\ninstructions are written in via a passthrough the csr module (these outputs are received by inst_control\n    //---------------------------\n    // Instruction control settings\n    //---------------------------\n    csr_inst_ctrl_write_mode_o = csr_set[INST_CTRL_REG_ADDR][INST_CTRL_WRITE_MODE_BIT_ADDR];\n    csr_inst_ctrl_dbg_o        = csr_set[INST_CTRL_REG_ADDR][  INST_CTRL_DBG_MODE_BIT_ADDR];\n    csr_inst_ctrl_clr_o        =  csr_write_req &&\n                                 (csr_req_addr_i == INST_CTRL_REG_ADDR) &&\n                                  csr_req_data_i[INST_CTRL_INST_CLR_BIT_ADDR];\n    csr_inst_wr_addr_o         = csr_req_data_i[InstMemAddrWidth-1:0];\n    csr_inst_wr_addr_en_o      = csr_write_req && (csr_req_addr_i == INST_WRITE_ADDR_REG_ADDR);\n    csr_inst_wr_data_o         = csr_req_data_i;\n    csr_inst_wr_data_en_o      = csr_write_req && (csr_req_addr_i == INST_WRITE_DATA_REG_ADDR);\n    csr_inst_rddbg_addr_o      = csr_set[INST_RDDBG_ADDR_REG_ADDR];\nInside inst_control , start_i triggers the enable_core signal, which decides if things are done or not.\n  //---------------------------\n  // Enable core register\n  //---------------------------\n  always_ff @ (posedge clk_i or negedge rst_ni) begin\n    if (!rst_ni) begin\n      enable_core &lt;= 1'b0;\n    end else begin\n      if(start_i) begin\n        enable_core &lt;= 1'b1;\n      end else if (inst_loop_done) begin\n        enable_core &lt;= 1'b0;\n      end else begin\n        enable_core &lt;= enable_core;\n      end\n    end\n  end\n\nThis is genius. Who needs FSMs if you have a microcode loop????\n\n\nThe Stalls\n\nVery important: There is a hardware stall streaming into the controller from top, which allows the microcode loop to wait for ready valid handshakes and external flags\n\n\n  //---------------------------\n  // Stall Signal\n  //---------------------------\n  logic stall;\n  logic im_stall;\n  logic am_stall;\n  logic qhv_stall;\n\n  assign stall = im_stall || qhv_stall || am_stall;"
  }
]