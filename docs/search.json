[
  {
    "objectID": "slides/transistorCapacitances/transistorCapacitances.html#general-frequency-response",
    "href": "slides/transistorCapacitances/transistorCapacitances.html#general-frequency-response",
    "title": "Transistor Capacitances",
    "section": "General Frequency Response",
    "text": "General Frequency Response\nMost amplifiers have a frequency response that looks like the following:"
  },
  {
    "objectID": "slides/transistorCapacitances/transistorCapacitances.html#everything-is-a-capacitor",
    "href": "slides/transistorCapacitances/transistorCapacitances.html#everything-is-a-capacitor",
    "title": "Transistor Capacitances",
    "section": "Everything is a capacitor",
    "text": "Everything is a capacitor\n\nIf something holds charge, it is a capacitor.\n\\[C = \\frac{dQ}{dV} \\]\n\n\nHence, everywhere in semiconductor devices where there are holes and electrons moving in and out there is capacitance."
  },
  {
    "objectID": "slides/transistorCapacitances/transistorCapacitances.html#bjt-parasitics-1",
    "href": "slides/transistorCapacitances/transistorCapacitances.html#bjt-parasitics-1",
    "title": "Transistor Capacitances",
    "section": "BJT Parasitics",
    "text": "BJT Parasitics\n\n\nThere are two main parasitic capacitances in a BJT:\n\n\nBase-Emitter Capacitance \\(C_{\\pi} = C_b + C_{je}\\) (Base Charging Capacitance + Base-Emitter Junction Capacitance)\nBase-Collector Capacitance \\(C_{\\mu}\\)"
  },
  {
    "objectID": "slides/transistorCapacitances/transistorCapacitances.html#the-base-charging-capacitance-c_b",
    "href": "slides/transistorCapacitances/transistorCapacitances.html#the-base-charging-capacitance-c_b",
    "title": "Transistor Capacitances",
    "section": "The base charging capacitance \\(C_b\\)",
    "text": "The base charging capacitance \\(C_b\\)\n\nBefore we start using the BJT, there is effectively “no charge” in the base region.\n\n\nHowever, as we turn the BJT on, the emitter starts to inject carriers (charge) into the base."
  },
  {
    "objectID": "slides/transistorCapacitances/transistorCapacitances.html#the-base-charging-capacitance-c_b-1",
    "href": "slides/transistorCapacitances/transistorCapacitances.html#the-base-charging-capacitance-c_b-1",
    "title": "Transistor Capacitances",
    "section": "The base charging capacitance \\(C_b\\)",
    "text": "The base charging capacitance \\(C_b\\)\n\nThe amount of carrier charge entering/exiting the base per second is \\(I_{C}\\)\n\n\nIf the amount of time a carrier spends in the base is \\(\\tau_F\\), then the total charge stored in the base is: \\[ Q_B =  I_C \\tau_F \\]\n\n\nSo then a change in \\(V_{BE}\\) can cause a change in \\(Q_B\\) through \\(I_C\\):\n\n\n\n\\[ C_b = \\frac{dQ_B}{dV_{BE}} \\]\n\n\n\\[ C_b = \\frac{dQ_B}{dV_{BE}} = \\frac{d(I_C \\tau_F)}{dV_{BE}} \\]\n\n\n\\[ C_b = \\frac{dQ_B}{dV_{BE}} = \\frac{d(I_C \\tau_F)}{dV_{BE}} = \\tau_F \\frac{dI_C}{dV_{BE}} \\]\n\n\n\nHence,\n\\[ C_b = \\tau_F g_m \\]"
  },
  {
    "objectID": "slides/transistorCapacitances/transistorCapacitances.html#the-be-junction-capacitance-c_je",
    "href": "slides/transistorCapacitances/transistorCapacitances.html#the-be-junction-capacitance-c_je",
    "title": "Transistor Capacitances",
    "section": "The BE Junction Capacitance \\(C_{je}\\)",
    "text": "The BE Junction Capacitance \\(C_{je}\\)\n\n\nA depletion region is a region with charges.\n\n\n\n\n\n\nAs we discussed before, the width of the depletion region changes with applied voltage. It is known that \\(W_{dep} \\propto \\sqrt{V_{bi} - V_{BE}}\\)."
  },
  {
    "objectID": "slides/transistorCapacitances/transistorCapacitances.html#the-be-junction-capacitance-c_je-1",
    "href": "slides/transistorCapacitances/transistorCapacitances.html#the-be-junction-capacitance-c_je-1",
    "title": "Transistor Capacitances",
    "section": "The BE Junction Capacitance \\(C_{je}\\)",
    "text": "The BE Junction Capacitance \\(C_{je}\\)\n\nHence, since \\(Q_{dep} \\propto W_{dep}\\), we have that some constant of proportionality \\(\\alpha\\) exists such that:\n\n\n\\[ Q_{dep} = \\alpha \\sqrt{V_{bi} - V_{BE}} \\]\n\n\n\\[ C_{je} = \\left|\\frac{dQ_{dep}}{dV_{BE}}\\right| = \\left|\\alpha \\frac{d(\\sqrt{V_{bi} - V_{BE}})}{dV_{BE}}\\right| = \\left|-\\frac{\\alpha}{2\\sqrt{V_{bi} - V_{BE}}}\\right|  = \\frac{\\alpha}{2\\sqrt{V_{bi}}\\sqrt{1 - V_{BE}/V_{bi}}}\\]\n\n\nWe can treat \\(\\frac{\\alpha}{2\\sqrt{V_{bi}}}\\) as a constant \\(C_{je0}\\):\n\\[ C_{je} = \\frac{C_{je0}}{\\sqrt{1 - V_{BE}/V_{bi}}} = \\frac{C_{je0}}{\\sqrt{1 - V_{BE}/V_{j,BE}}} \\]\n\n\nand we see that \\(C_{je0}\\) is base-emitter junction capacitance measured at \\(V_{BE} = 0\\) V. We also typically refer to \\(V_{bi}\\) for the BE junction as \\(V_{j,BE}\\)."
  },
  {
    "objectID": "slides/transistorCapacitances/transistorCapacitances.html#the-be-junction-capacitance-c_je-2",
    "href": "slides/transistorCapacitances/transistorCapacitances.html#the-be-junction-capacitance-c_je-2",
    "title": "Transistor Capacitances",
    "section": "The BE Junction Capacitance \\(C_{je}\\)",
    "text": "The BE Junction Capacitance \\(C_{je}\\)\n\\[\\frac{C_{je0}}{\\sqrt{1 - V_{BE}/V_{j,BE}}}\\]"
  },
  {
    "objectID": "slides/transistorCapacitances/transistorCapacitances.html#the-bc-junction-capacitance-c_mu",
    "href": "slides/transistorCapacitances/transistorCapacitances.html#the-bc-junction-capacitance-c_mu",
    "title": "Transistor Capacitances",
    "section": "The BC Junction Capacitance \\(C_{\\mu}\\)",
    "text": "The BC Junction Capacitance \\(C_{\\mu}\\)\nLikewise, the BC junction’s depletion region also has a capacitance. We call this \\(C_{\\mu}\\).\nSince it’s usually reverse biased, we replace \\(V_{BE}\\) with \\(V_{CB}\\) and negate the sign in the denominator:\n\\[ C_{\\mu} = \\frac{C_{\\mu0}}{\\sqrt{1 + V_{CB}/V_{j,CB}}} \\]\n\n\n\n\n\n\n\nNote\n\n\nWe call it \\(C_\\mu\\) and not \\(C_{jc}\\) because of its position in the small-signal equivalent. \\(\\mu\\) is traditionally used to represent voltage feedback from output to input in the hybrid-pi model."
  },
  {
    "objectID": "slides/transistorCapacitances/transistorCapacitances.html#bjt-parasitics-summary",
    "href": "slides/transistorCapacitances/transistorCapacitances.html#bjt-parasitics-summary",
    "title": "Transistor Capacitances",
    "section": "BJT Parasitics Summary",
    "text": "BJT Parasitics Summary\n\n\n\n\n\\(C\\mu\\) - Junction capacitance between B and C\n\\(C_\\pi = C_b + C_{je}\\)\n\n\\(C_b\\) - Capacitance from carriers crossing the base\n\\(C_{je}\\) - Junction capacitance between B and E\n\n\n\n\n\n\n\n\n\n\nTip\n\n\n\\(C_\\mu\\) and is typically around 5fF-10fF.\n\\(C_{je}\\) is a little higher, about \\(&gt;10fF\\).\n\\(C_b\\) is typically around hundreds of fF."
  },
  {
    "objectID": "slides/transistorCapacitances/transistorCapacitances.html#bjt-small-signal-model-with-capacitances",
    "href": "slides/transistorCapacitances/transistorCapacitances.html#bjt-small-signal-model-with-capacitances",
    "title": "Transistor Capacitances",
    "section": "BJT Small Signal Model with Capacitances",
    "text": "BJT Small Signal Model with Capacitances\n\n\n\n\\[C\\pi=C_b+C_{je}\\] \\[C_b=\\tau_Fg_m\\]\n\n\\[\\frac{C_{je0}}{\\sqrt{1 - V_{BE}/V_{j,BE}}}\\]\n\n\\[ C_{\\mu} = \\frac{C_{\\mu0}}{\\sqrt{1 + V_{CB}/V_{j,CB}}} \\]"
  },
  {
    "objectID": "slides/transistorCapacitances/transistorCapacitances.html#mos-parasitics-1",
    "href": "slides/transistorCapacitances/transistorCapacitances.html#mos-parasitics-1",
    "title": "Transistor Capacitances",
    "section": "MOS Parasitics",
    "text": "MOS Parasitics\n\n\nThe MOS has three sources of parasitics:\n\nDrain/Source to Bulk Junction Capacitance \\(C_{db}\\),\\(C_{sb}\\)  - Same as earlier.\nGate-bulk capacitance \\(C_{gb}\\) - The MOS Capacitor. Remember this?\nGate-overlap capacitance \\(C_{gs}\\)  - MOS Capacitor but we accidentally do it to S/D."
  },
  {
    "objectID": "slides/transistorCapacitances/transistorCapacitances.html#mos-parasitics-2",
    "href": "slides/transistorCapacitances/transistorCapacitances.html#mos-parasitics-2",
    "title": "Transistor Capacitances",
    "section": "MOS Parasitics",
    "text": "MOS Parasitics"
  },
  {
    "objectID": "slides/transistorCapacitances/transistorCapacitances.html#overlap-capacitances-c_gs-and-c_gd",
    "href": "slides/transistorCapacitances/transistorCapacitances.html#overlap-capacitances-c_gs-and-c_gd",
    "title": "Transistor Capacitances",
    "section": "Overlap Capacitances \\(C_{GS}\\) and \\(C_{GD}\\)",
    "text": "Overlap Capacitances \\(C_{GS}\\) and \\(C_{GD}\\)\n\n\n\n\n\\(C_{GS}\\) and \\(C_{GD}\\) are overlap capacitances caused by an effective MOS capacitor on the overlap of the G region to the S and D regions.\n\n\n\\[C_{GS} = C_{GD} = \\frac{\\epsilon_{ox} x_d W}{t_{ox}}\\]\n\n\nBut if you may remember…\n\n\n\\[C_{ox}=\\frac{\\epsilon_{ox}}{t_{ox}}\\]\n\n\n\\[C_{GS} = C_{GD} = C_{ox}x_dW\\]"
  },
  {
    "objectID": "slides/transistorCapacitances/transistorCapacitances.html#the-gate-bulk-capacitance-c_gb",
    "href": "slides/transistorCapacitances/transistorCapacitances.html#the-gate-bulk-capacitance-c_gb",
    "title": "Transistor Capacitances",
    "section": "The Gate-bulk Capacitance \\(C_{gb}\\)",
    "text": "The Gate-bulk Capacitance \\(C_{gb}\\)\n\n\n\nAs we discussed before, the main physical device behind the MOSFET is a MOS capacitor.\n\n\n\\[ C_{gb} = \\frac{\\epsilon_{ox}}{t_{ox}}WL \\]"
  },
  {
    "objectID": "slides/transistorCapacitances/transistorCapacitances.html#the-drain-bulk-and-source-bulk-capacitances-c_dbc_sb",
    "href": "slides/transistorCapacitances/transistorCapacitances.html#the-drain-bulk-and-source-bulk-capacitances-c_dbc_sb",
    "title": "Transistor Capacitances",
    "section": "The Drain-bulk and Source-bulk Capacitances \\(C_{db}\\),\\(C_{sb}\\)",
    "text": "The Drain-bulk and Source-bulk Capacitances \\(C_{db}\\),\\(C_{sb}\\)\n\\(C_{db}\\) and \\(C_{sb}\\) come from junction capacitances of the PN junction formed by the opposite-type semiconductors of the drain/source and the bulk."
  },
  {
    "objectID": "slides/transistorCapacitances/transistorCapacitances.html#mosfet-capacitances",
    "href": "slides/transistorCapacitances/transistorCapacitances.html#mosfet-capacitances",
    "title": "Transistor Capacitances",
    "section": "MOSFET Capacitances",
    "text": "MOSFET Capacitances\n\n\nMOS Parallel Plate Capacitances\n\n\\(C_{gs}\\)\n\\(C_{gd}\\)\n\\(C_{gb}\\)\n\nS/D-Bulk Junction Capacitances\n\n\\(C_{sb}\\)\n\\(C_{db}\\)"
  },
  {
    "objectID": "slides/transistorCapacitances/transistorCapacitances.html#effective-mos-small-signal-with-capacitances",
    "href": "slides/transistorCapacitances/transistorCapacitances.html#effective-mos-small-signal-with-capacitances",
    "title": "Transistor Capacitances",
    "section": "Effective MOS Small-signal with Capacitances",
    "text": "Effective MOS Small-signal with Capacitances\n\n\nThe bulk is typically connected to the source meaning:\n\n\n\n\\(C_{gs}\\) typically also accounts for \\(C_{gb}\\).\n\n\n\n\n\\(C_{sb}\\) is shorted.\n\n\n\nSo, only \\(C_{gs}\\), \\(C_{gd}\\) and \\(C_{db}\\) survive."
  },
  {
    "objectID": "slides/transistorCapacitances/transistorCapacitances.html#the-fundamental-gains",
    "href": "slides/transistorCapacitances/transistorCapacitances.html#the-fundamental-gains",
    "title": "Transistor Capacitances",
    "section": "The fundamental gains",
    "text": "The fundamental gains\nLet’s see what happens to the fundamental gains due to the capacitances:\n\n\n\nVoltage gain:\n\n\n\\[ \\frac{v_o}{r_o || 1/sC\\mu} + v_i (g_m + sC\\mu) = 0 \\]\n\n\n\\[ \\frac{v_o}{v_i} = - (g_m + sC\\mu)(\\frac{r_o}{1+sC\\mu r_o}) \\]\n\n\n\\[ \\frac{v_o}{v_i} = - g_mr_o \\frac{(1 + sC\\mu/g_m)}{(1+sC\\mu r_o)} \\]\n\n\n\n\n\n\nCurrent gain:\n\n\n\\[ i_o = v_i (g_m - sC\\mu) \\]\n\n\n\\[ i_i = v_i (sC\\pi + sC\\mu + 1/r_{\\pi}) \\]\n\n\n\\[ \\frac{i_o}{i_i} = \\frac{g_m-sC\\mu}{1/r_{\\pi} + sC_\\pi+sC_\\mu}\\]\n\n\n\\[ \\frac{i_o}{i_i} = g_mr_{\\pi} \\frac{1-sC\\mu/g_m}{1+sr_{\\pi}(C_\\pi+C_\\mu)}\\]"
  },
  {
    "objectID": "slides/transistorCapacitances/transistorCapacitances.html#the-transition-frequency-f_t",
    "href": "slides/transistorCapacitances/transistorCapacitances.html#the-transition-frequency-f_t",
    "title": "Transistor Capacitances",
    "section": "The Transition Frequency \\(f_T\\)",
    "text": "The Transition Frequency \\(f_T\\)\n\n\n\nYou’ll notice that the current gain reaches 1 (0 dB), but the voltage gain doesn’t.\n\n\nHence, people measure the “speed of the transistor” or the transition frequency as \\[ \\left| \\frac{i_o}{i_i} \\right|_{f_T} = 1\\]"
  },
  {
    "objectID": "slides/transistorCapacitances/transistorCapacitances.html#the-transition-frequency-f_t-1",
    "href": "slides/transistorCapacitances/transistorCapacitances.html#the-transition-frequency-f_t-1",
    "title": "Transistor Capacitances",
    "section": "The Transition Frequency \\(f_T\\)",
    "text": "The Transition Frequency \\(f_T\\)\n\n\n\\[ \\frac{i_o}{i_i} = g_mr_\\pi \\frac{1-sC\\mu/g_m}{s(C_\\pi+C_\\mu)}\\]\n\n\n\\[ \\frac{i_o}{i_i} = \\frac{g_m-sC\\mu}{1/r_\\pi + s(C_\\pi+C_\\mu)}\\]\n\n\n\\[ \\left| \\frac{i_o}{i_i} \\right| = \\frac{\\sqrt{g_m^2 + \\omega_T^2C_\\mu^2}}{\\sqrt{(1/r_\\pi)^2 + \\omega_T^2(C_\\pi+C_\\mu)^2}} = 1\\]\n\n\n\\[ \\frac{g_m^2 + \\omega_T^2C_\\mu^2}{(1/r_\\pi)^2 + \\omega_T^2(C_\\pi+C_\\mu)^2} = 1\\]"
  },
  {
    "objectID": "slides/transistorCapacitances/transistorCapacitances.html#the-transition-frequency-f_t-2",
    "href": "slides/transistorCapacitances/transistorCapacitances.html#the-transition-frequency-f_t-2",
    "title": "Transistor Capacitances",
    "section": "The Transition Frequency \\(f_T\\)",
    "text": "The Transition Frequency \\(f_T\\)\n\n\n\\[ \\frac{g_m^2 + \\omega_T^2C_\\mu^2}{(1/r_\\pi)^2 + \\omega_T^2(C_\\pi+C_\\mu)^2} = 1\\]\n\n\n\\[ \\omega_T^2 = \\frac{g_m^2 - (1/r_\\pi)^2}{(C_\\pi+C_\\mu)^2 - C_\\mu^2}\\]\n\n\nSince \\(g_m^2 \\gg 1/r_\\pi^2\\) and \\((C_\\pi+C_\\mu)^2 \\gg C_\\mu^2\\)\n\n\n\n\n\n\nDefinition\n\n\n\\[\\omega_T \\approx \\frac{g_m}{C_\\pi + C_\\mu}, f_T \\approx \\frac{g_m}{2\\pi(C_\\pi + C_\\mu)}\\]"
  },
  {
    "objectID": "slides/transistorCapacitances/transistorCapacitances.html#the-transition-frequency-f_t-3",
    "href": "slides/transistorCapacitances/transistorCapacitances.html#the-transition-frequency-f_t-3",
    "title": "Transistor Capacitances",
    "section": "The Transition Frequency \\(f_T\\)",
    "text": "The Transition Frequency \\(f_T\\)\nFor a MOSFET, everything is the same.\nSet \\(r_\\pi \\rightarrow \\infty\\)\n\n\n\nDefinition\n\n\n\\[\\omega_T \\approx \\frac{g_m}{C_{gd} + C_{gs}}, f_T \\approx \\frac{g_m}{2\\pi(C_{gd} + C_{gs})}\\]"
  },
  {
    "objectID": "slides/transistorCapacitances/transistorCapacitances.html#the-transition-frequency-f_t-4",
    "href": "slides/transistorCapacitances/transistorCapacitances.html#the-transition-frequency-f_t-4",
    "title": "Transistor Capacitances",
    "section": "The Transition Frequency \\(f_T\\)",
    "text": "The Transition Frequency \\(f_T\\)\n\n\n\n\nTransistor Capacitances"
  },
  {
    "objectID": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#coverage",
    "href": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#coverage",
    "title": "Frequency Response of CE Amplifier",
    "section": "Coverage",
    "text": "Coverage\n\n\nFrequency Response of CS/CE Amplifiers\nCE Amplifier with an Output Pole\nCE Amplifier with an Input Pole"
  },
  {
    "objectID": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#ce-amplifier-with-an-output-pole",
    "href": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#ce-amplifier-with-an-output-pole",
    "title": "Frequency Response of CE Amplifier",
    "section": "CE Amplifier with an Output Pole",
    "text": "CE Amplifier with an Output Pole\n\n\nWe begin by analyzing the CE amplifier frequency response.\nAssumptions:\n\n\nIgnore BJT parasitic capacitances (for now).\nAssume \\(r_o \\rightarrow \\infty\\).\nAn external load capacitance \\(C_L\\) dominates the output."
  },
  {
    "objectID": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#ce-amplifier-with-an-output-pole-1",
    "href": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#ce-amplifier-with-an-output-pole-1",
    "title": "Frequency Response of CE Amplifier",
    "section": "CE Amplifier with an Output Pole",
    "text": "CE Amplifier with an Output Pole\n\nKCL @ \\(v_o\\):\n\n\n\\[\\frac{v_o}{R_C || \\frac{1}{sC_L}} + g_m v_i = 0\\]\n\n\nThen, rearranging, \\[A_v(s) = -g_mR_C \\left( \\frac{1}{1 + sR_C C_L} \\right)\\]\n\n\nand we have the form\n\\[A_v(s) = A_0 \\left( \\frac{1}{1 + s/p_1} \\right) \\]"
  },
  {
    "objectID": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#ce-with-output-poles-a_v",
    "href": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#ce-with-output-poles-a_v",
    "title": "Frequency Response of CE Amplifier",
    "section": "CE with Output Poles: \\(A_V\\)",
    "text": "CE with Output Poles: \\(A_V\\)\n\\[A_v(s) = -g_mR_C \\left( \\frac{1}{1 + sR_C C_L} \\right)\\]"
  },
  {
    "objectID": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#ce-with-output-pole-r_o",
    "href": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#ce-with-output-pole-r_o",
    "title": "Frequency Response of CE Amplifier",
    "section": "CE with Output Pole: \\(R_o\\)",
    "text": "CE with Output Pole: \\(R_o\\)"
  },
  {
    "objectID": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#ce-with-output-pole-g_m",
    "href": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#ce-with-output-pole-g_m",
    "title": "Frequency Response of CE Amplifier",
    "section": "CE with Output Pole: \\(G_m\\)",
    "text": "CE with Output Pole: \\(G_m\\)"
  },
  {
    "objectID": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#ce-with-output-pole-z_i",
    "href": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#ce-with-output-pole-z_i",
    "title": "Frequency Response of CE Amplifier",
    "section": "CE with Output Pole: \\(Z_i\\)",
    "text": "CE with Output Pole: \\(Z_i\\)"
  },
  {
    "objectID": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#ce-transconductance-g_m",
    "href": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#ce-transconductance-g_m",
    "title": "Frequency Response of CE Amplifier",
    "section": "CE Transconductance \\(G_m\\)",
    "text": "CE Transconductance \\(G_m\\)\n\nRecalling that \\(A_v = -G_m Z_o\\), we can solve for the effective transconductance:\n\n\n\\[G_m = \\frac{-A_v}{Z_o}\\]\n\n\n\\[G_m = \\frac{-\\left[ \\frac{-g_m R_C}{1 + j\\omega R_C C_L} \\right]}{\\frac{R_C}{1 + j\\omega R_C C_L}}\\]\n\n\n\\[G_m = g_m\\]\n\n\nIn this simplified model, the transconductance is frequency independent."
  },
  {
    "objectID": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#ce-input-impedance-z_i",
    "href": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#ce-input-impedance-z_i",
    "title": "Frequency Response of CE Amplifier",
    "section": "CE Input Impedance \\(Z_i\\)",
    "text": "CE Input Impedance \\(Z_i\\)\n\n\n\\[Z_i = \\frac{v_i}{i_i} \\bigg|_{v_o=0}\\]\nBy simple inspection of the small signal model: \\[Z_i = r_\\pi\\]\nThe input impedance is purely resistive and constant across frequency (in this specific configuration)."
  },
  {
    "objectID": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#ce-two-port-equivalent-output-pole-only",
    "href": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#ce-two-port-equivalent-output-pole-only",
    "title": "Frequency Response of CE Amplifier",
    "section": "CE Two-Port Equivalent (Output Pole Only)",
    "text": "CE Two-Port Equivalent (Output Pole Only)\nWe can construct a two-port network representing the amplifier so far:\n\n\n\n\\[Z_i = r_\\pi\\]\n\n\\[G_m = g_m\\]\n\n\\[Z_o = \\frac{R_C}{1 + sR_C C_L}\\]"
  },
  {
    "objectID": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#the-ce-amplifier-with-an-input-pole",
    "href": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#the-ce-amplifier-with-an-input-pole",
    "title": "Frequency Response of CE Amplifier",
    "section": "The CE Amplifier with an Input Pole",
    "text": "The CE Amplifier with an Input Pole\nNow we add a source resistance \\(R_S\\) and a base-emitter capacitance \\(C_\\pi\\).\n\nWe must determine how \\(v_{be}\\) relates to \\(v_i\\) considering the frequency dependent voltage divider at the input."
  },
  {
    "objectID": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#deriving-the-input-transfer-function",
    "href": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#deriving-the-input-transfer-function",
    "title": "Frequency Response of CE Amplifier",
    "section": "Deriving the Input Transfer Function",
    "text": "Deriving the Input Transfer Function\n\nApplying voltage division at the input loop:\n\n\n\\[\\frac{v_{be}}{v_i} = \\frac{Z_\\pi}{Z_\\pi + R_S}\\] where \\(Z_\\pi = r_\\pi \\parallel \\frac{1}{sC_\\pi}\\).\n\n\n\\[\\frac{v_{be}}{v_i} = \\frac{\\frac{r_\\pi}{1 + s r_\\pi C_\\pi}}{\\frac{r_\\pi}{1 + s r_\\pi C_\\pi} + R_S}\\]\n\n\nMultiplying numerator and denominator by \\((1 + s r_\\pi C_\\pi)\\): \\[\\frac{v_{be}}{v_i} = \\frac{r_\\pi}{r_\\pi + R_S + s r_\\pi R_S C_\\pi}\\]"
  },
  {
    "objectID": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#deriving-the-input-transfer-function-1",
    "href": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#deriving-the-input-transfer-function-1",
    "title": "Frequency Response of CE Amplifier",
    "section": "Deriving the Input Transfer Function",
    "text": "Deriving the Input Transfer Function\n\n\\[\\frac{v_{be}}{v_i} = \\frac{r_\\pi}{r_\\pi + R_S + s r_\\pi R_S C_\\pi}\\]\n\n\nWe factor out \\((r_\\pi + R_S)\\) from the denominator to normalize the DC term:\n\n\n\\[\\frac{v_{be}}{v_i} = \\frac{r_\\pi}{r_\\pi + R_S} \\left( \\frac{1}{1 + s C_\\pi \\frac{r_\\pi R_S}{r_\\pi + R_S}} \\right)\\]\n\n\nThis results in an input attenuation factor \\(A_{i}\\) and an input pole \\(\\omega_{p1}\\): \\[\\frac{v_{be}}{v_i} = A_i \\frac{1}{1 + j\\frac{\\omega}{\\omega_{p1}}}\\] where \\(A_i = \\frac{r_\\pi}{r_\\pi + R_S}\\) and \\(\\omega_{p1} = \\frac{1}{C_\\pi (r_\\pi \\parallel R_S)}\\)."
  },
  {
    "objectID": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#total-transfer-function",
    "href": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#total-transfer-function",
    "title": "Frequency Response of CE Amplifier",
    "section": "Total Transfer Function",
    "text": "Total Transfer Function\nWe combine the input section response (\\(A_1\\)) with the output section response (\\(A_2\\)).\n\\[A_v(s) = \\underbrace{\\left( \\frac{v_{be}}{v_i} \\right)}_{\\text{Input Section}} \\cdot \\underbrace{\\left( \\frac{v_o}{v_{be}} \\right)}_{\\text{Output Section}}\\]\n\n\\[A_v(s) = \\left[ \\frac{r_\\pi}{r_\\pi + R_S} \\cdot \\frac{1}{1 + j\\frac{\\omega}{\\omega_{p1}}} \\right] \\cdot \\left[ -g_m R_C \\cdot \\frac{1}{1 + j\\frac{\\omega}{\\omega_{p2}}} \\right]\\]\n\n\n\n\n\n\n\n\nTotal Gain\n\n\n\\[A_v(s) = A_{mid} \\frac{1}{(1 + j\\frac{\\omega}{\\omega_{p1}})(1 + j\\frac{\\omega}{\\omega_{p2}})}\\] \\[\\omega_{p1} = \\frac{1}{C_\\pi (r_\\pi \\parallel R_S)}, \\quad \\omega_{p2} = \\frac{1}{R_C C_L}\\]"
  },
  {
    "objectID": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#magnitude-response-two-poles",
    "href": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#magnitude-response-two-poles",
    "title": "Frequency Response of CE Amplifier",
    "section": "Magnitude Response (Two Poles)",
    "text": "Magnitude Response (Two Poles)\nTypically, the output pole \\(\\omega_{p2}\\) is lower frequency than the input pole \\(\\omega_{p1}\\).\n\n\n\nFlat gain up to \\(\\omega_{p2}\\).\nSlope of \\(-20\\) dB/dec between \\(\\omega_{p2}\\) and \\(\\omega_{p1}\\).\nSlope of \\(-40\\) dB/dec after \\(\\omega_{p1}\\)."
  },
  {
    "objectID": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#phase-response",
    "href": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#phase-response",
    "title": "Frequency Response of CE Amplifier",
    "section": "Phase Response",
    "text": "Phase Response\nThe phase response depends on the separation of the poles.\n\\[\\angle A_v(\\omega) = 180^\\circ - \\tan^{-1}\\left(\\frac{\\omega}{\\omega_{p1}}\\right) - \\tan^{-1}\\left(\\frac{\\omega}{\\omega_{p2}}\\right)\\]\n\n\nWidely Separated If poles are far apart, the phase drops in distinct steps. \n\nClose Proximity If poles are close, the phase shifts merge, creating a steeper descent."
  },
  {
    "objectID": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#frequency-dependent-parameters",
    "href": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#frequency-dependent-parameters",
    "title": "Frequency Response of CE Amplifier",
    "section": "Frequency Dependent Parameters",
    "text": "Frequency Dependent Parameters\nWe can generalize the two-port parameters to include frequency effects:\n\n\nInput Impedance \\(Z_i(\\omega)\\) \\[Z_i(\\omega) = R_S + \\frac{r_\\pi}{1 + j\\omega r_\\pi C_\\pi}\\] Derivation involves simple series/parallel combination of \\(R_S, r_\\pi, C_\\pi\\).\n\nTransconductance \\(G_m(\\omega)\\) \\[G_m(\\omega) = \\frac{g_m}{1 + j\\omega (R_S \\parallel r_\\pi) C_\\pi} \\cdot \\frac{r_\\pi}{r_\\pi + R_S}\\] Effective transconductance rolls off due to the input pole."
  },
  {
    "objectID": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#next-lecture",
    "href": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#next-lecture",
    "title": "Frequency Response of CE Amplifier",
    "section": "Next Lecture",
    "text": "Next Lecture\n\n\nMiller Capacitance\n\nWhat happens when a capacitor connects Input and Output?\n\nBypass and Coupling Capacitors\n\nEffect on Low Frequency Response"
  },
  {
    "objectID": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#end-of-part-1",
    "href": "slides/ceCsFrequencyResponse/ceCsFrequencyResponse.html#end-of-part-1",
    "title": "Frequency Response of CE Amplifier",
    "section": "End of Part 1",
    "text": "End of Part 1\n\n\n\nFrequency Response of CE Amplifier"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Notes Center",
    "section": "",
    "text": "Aaaah!\nYou’re not supposed to be here. Please go find a leaf page.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFrequency Response of CE Amplifier\n\n\nEEE 131 THX2/Y\n\n\n\n\n\n\n\n\nLawrence Quizon\n\n\n\n\n\n\n\n\n\n\n\n\nPatents Are a Poor Innovation Metric\n\n\n\n\n\n\n\n\n\n\n\nLawrence Quizon\n\n\n\n\n\n\n\n\n\n\n\n\nSetting up an OS PDK\n\n\nFOSSI\n\n\n\n\n\n\n\n\nLawrence Quizon\n\n\n\n\n\n\n\n\n\n\n\n\nTransistor Capacitances\n\n\nEEE 131 THX2/Y\n\n\n\n\n\n\n\n\nLawrence Quizon\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "slides/patentingBad/patentingBad.html#the-problem-with-patent-first-policies",
    "href": "slides/patentingBad/patentingBad.html#the-problem-with-patent-first-policies",
    "title": "Patents Are a Poor Innovation Metric",
    "section": "The Problem with “Patent-First” Policies",
    "text": "The Problem with “Patent-First” Policies\nMisconception: - patent count with real innovation output\nWhile it is true that there is correlation between patents and innovation, this is not causation. Are we really supposed to prioritize the creation of patents?"
  },
  {
    "objectID": "slides/patentingBad/patentingBad.html#what-patents-are",
    "href": "slides/patentingBad/patentingBad.html#what-patents-are",
    "title": "Patents Are a Poor Innovation Metric",
    "section": "What Patents are",
    "text": "What Patents are\nA protection of the rights of the inventor over their work. As objects that protect intellectual property, these are:\n\nLong-winded, full of legal jargon\nExpensive to file due to being a law construct\nBarriers to collaboration and knowledge dissemination\n\nNo student would read a patent. Neither would I- very little knowledge value can be found in patents. In fact, most patents do not become useful."
  },
  {
    "objectID": "slides/patentingBad/patentingBad.html#patents-are-the-result-not-the-cause",
    "href": "slides/patentingBad/patentingBad.html#patents-are-the-result-not-the-cause",
    "title": "Patents Are a Poor Innovation Metric",
    "section": "Patents are the result, not the cause",
    "text": "Patents are the result, not the cause\n\n\nAfter a strong research foundation has already been created, patents start to appear due to the commercializability of the new knowledge being produced.\n\n\nThe Bayh-Dole Act is a US law that incentivized the filing of patents by Universities. Mowery et al. found that the Bayh-Dole Act:\n\n\n\ncaused an increase in commercially useless patents\ndid not significantly increase the patent output of top universities as these were already producing patents even before it was incentivized."
  },
  {
    "objectID": "slides/patentingBad/patentingBad.html#case-study-u.s.-university-patenting-post-bayhdole",
    "href": "slides/patentingBad/patentingBad.html#case-study-u.s.-university-patenting-post-bayhdole",
    "title": "Patents Are a Poor Innovation Metric",
    "section": "Case Study: U.S. University Patenting Post-Bayh–Dole",
    "text": "Case Study: U.S. University Patenting Post-Bayh–Dole\n\nPatenting rose—but began even before the law’s 1980 passage.\n\nNewly patenting universities produced patents with fewer citations → lower “value.”\n\nConclusion: Incentives alone don’t equal quality or success"
  },
  {
    "objectID": "slides/patentingBad/patentingBad.html#firm-level-sme-evidence-patents-vs-profitability",
    "href": "slides/patentingBad/patentingBad.html#firm-level-sme-evidence-patents-vs-profitability",
    "title": "Patents Are a Poor Innovation Metric",
    "section": "Firm-Level & SME Evidence: Patents vs Profitability",
    "text": "Firm-Level & SME Evidence: Patents vs Profitability\nSME longitudinal study 2023/2024 - Among tech-firms: patents that survive &gt;6 yrs and with many claims → better profitability.\n- But heavy R&D spending with weak patents reduces that benefit → “over-patenting” is counterproductive.\n- For SMEs: patents boost sales but often not profitability — patents ≠ sustainable business success."
  },
  {
    "objectID": "slides/patentingBad/patentingBad.html#what-this-means",
    "href": "slides/patentingBad/patentingBad.html#what-this-means",
    "title": "Patents Are a Poor Innovation Metric",
    "section": "What this means",
    "text": "What this means\nBayh-Dole - Rushing to file patents without a strong research base → many low-value patents\nSME Evidence - Patent-first policies can drain resources (filing costs, maintenance fees) with little return\n- Real innovation requires: talent + funding + open research + publications + prototypes + industry collaboration — patents come after"
  },
  {
    "objectID": "slides/patentingBad/patentingBad.html#innovation-strategy",
    "href": "slides/patentingBad/patentingBad.html#innovation-strategy",
    "title": "Patents Are a Poor Innovation Metric",
    "section": "Innovation Strategy",
    "text": "Innovation Strategy\nFund and build strong research programs\n\nThese in turn create good graduate programs that produce innovation power.\n\nPrioritize academic publications, open tools, and open-source designs.\n\nAllows a strong knowledge base for students and future researchers"
  },
  {
    "objectID": "slides/patentingBad/patentingBad.html#conclusion",
    "href": "slides/patentingBad/patentingBad.html#conclusion",
    "title": "Patents Are a Poor Innovation Metric",
    "section": "Conclusion",
    "text": "Conclusion\nPatents are outputs, not starting points\n\nPatent counts by themselves are a misleading metric\n\nEvidence shows that quality of research and depth of ecosystem matter more than sheer patent numbers\n\nFor a developing-nation context like ours, the real goal should be building research capacity — not chasing patent counts"
  },
  {
    "objectID": "slides/patentingBad/patentingBad.html#numbers",
    "href": "slides/patentingBad/patentingBad.html#numbers",
    "title": "Patents Are a Poor Innovation Metric",
    "section": "Numbers",
    "text": "Numbers"
  },
  {
    "objectID": "slides/patentingBad/patentingBad.html#references",
    "href": "slides/patentingBad/patentingBad.html#references",
    "title": "Patents Are a Poor Innovation Metric",
    "section": "References",
    "text": "References\n\nPoege, Harhoff, Gaessler, Baruffaldi, 2019 — Science Quality and the Value of Inventions\n\nTaalbi, 2022 — Innovation with and without patents\n\nMowery, Nelson, Sampat & Ziedonis, 2001 — The growth of patenting and licensing by U.S. universities\n\nRecent firm-level study 2025 — Patent quality, R&D investment, and the profitability of technology-based firms\n\nSME longitudinal study 2023/2024 — SMEs and patents: Is it worth it?"
  },
  {
    "objectID": "slides/settingOsPdk/settingOsPdk.html#steps-overview",
    "href": "slides/settingOsPdk/settingOsPdk.html#steps-overview",
    "title": "Setting up an OS PDK",
    "section": "Steps Overview",
    "text": "Steps Overview\nThe following tools require setup for a new PDK:\n\nYosys Synthesis\nOpenROAD (place_opt, global_route, detailed_route, cts)\nMAGIC setup (sets up DRC)\nNETGEN setup (LVS)\nOpenSTA settings\nOpenRCX settings\nXSchem (Symbol creation and spice attachment)\n\nPDK_HOME/libs.tech/xschem"
  },
  {
    "objectID": "slides/settingOsPdk/settingOsPdk.html#resources",
    "href": "slides/settingOsPdk/settingOsPdk.html#resources",
    "title": "Setting up an OS PDK",
    "section": "Resources",
    "text": "Resources\nOpenLane Discussions Issue on the original repo discussing PDK setup: https://github.com/The-OpenROAD-Project/OpenLane/discussions/2133\nPDK Configuration Official documentation on setting up a configuration: https://openlane.readthedocs.io/en/latest/reference/pdk_configuration.html"
  },
  {
    "objectID": "slides/settingOsPdk/settingOsPdk.html#xschem-configuration",
    "href": "slides/settingOsPdk/settingOsPdk.html#xschem-configuration",
    "title": "Setting up an OS PDK",
    "section": "XSchem Configuration",
    "text": "XSchem Configuration\nYou must create your own symbols (using XSchem).\n\nReference: XSchem Manual\nKey Construct: format (accessible by double-clicking the instance).\nPurpose: Represents the device in the SPICE netlist for simulation."
  },
  {
    "objectID": "slides/settingOsPdk/settingOsPdk.html#xschem-format-example",
    "href": "slides/settingOsPdk/settingOsPdk.html#xschem-format-example",
    "title": "Setting up an OS PDK",
    "section": "XSchem Format Example",
    "text": "XSchem Format Example\n 1 G {}\n 2 K {type=nmos\n 3 lvs_format=\"@spiceprefix@name @pinlist sky130_fd_pr__@model L=@L W=@W nf=@nf m=@mult\"\n 4 format=\"@spiceprefix@name @pinlist sky130_fd_pr__@model L=@L W=@W\n 5 + nf=@nf ad=@ad as=@as pd=@pd ps=@ps\n 6 + nrd=@nrd nrs=@nrs sa=@sa sb=@sb sd=@sd\n 7 + mult=@mult m=@mult\"\n 8 template=\"name=M1\n 9 W=1\n10 L=0.15\n11 nf=1 \n12 mult=1\n13 ad=\\\\\"expr('int((@nf + 1)/2) * @W / @nf * 0.29')\\\\\"\n14 pd=\\\\\"expr('2*int((@nf + 1)/2) * (@W / @nf + 0.29)')\\\\\"\n15 as=\\\\\"expr('int((@nf + 2)/2) * @W / @nf * 0.29')\\\\\"\n16 ps=\\\\\"expr('2*int((@nf + 2)/2) * (@W / @nf + 0.29)')\\\\\"\n17 nrd=\\\\\"expr('0.29 / @W ')\\\\\" nrs=\\\\\"expr('0.29 / @W ')\\\\\"\n18 sa=0 sb=0 sd=0\n19 model=nfet_01v8\n20 spiceprefix=X\n21 \"\n22 drc=\"fet_drc \\{@name\\\\\\\\\\} \\{@symname\\\\\\\\\\} \\{@model\\\\\\\\\\} \\{@W\\\\\\\\\\} \\{@L\\\\\\\\\\} \\{@nf\\\\\\\\\\}\"}"
  },
  {
    "objectID": "slides/settingOsPdk/settingOsPdk.html#setting-up-librelane",
    "href": "slides/settingOsPdk/settingOsPdk.html#setting-up-librelane",
    "title": "Setting up an OS PDK",
    "section": "Setting up LibreLane",
    "text": "Setting up LibreLane\nRun with --manual-pdk if building without ciel (the package manager).\nRequired Files:\n\nPDK Config: {pdk_root}/{pdk}/libs.tech/librelane/config.tcl\n\nSCL Config: {pdk_root}/{pdk}/libs.tech/librelane/{scl}/config.tcl"
  },
  {
    "objectID": "slides/settingOsPdk/settingOsPdk.html#tech-lef-declaration",
    "href": "slides/settingOsPdk/settingOsPdk.html#tech-lef-declaration",
    "title": "Setting up an OS PDK",
    "section": "Tech LEF Declaration",
    "text": "Tech LEF Declaration\nThe configuration file is where you declare the tech lef.\n# Technology LEF\nset ::env(TECH_LEF) \"$::env(PDK_ROOT)/$::env(PDK)/libs.ref/$::env(STD_CELL_LIBRARY)/techlef/$::env(STD_CELL_LIBRARY)__nom.tlef\"\nset ::env(TECH_LEF_MIN) \"$::env(PDK_ROOT)/$::env(PDK)/libs.ref/$::env(STD_CELL_LIBRARY)/techlef/$::env(STD_CELL_LIBRARY)__min.tlef\"\nset ::env(TECH_LEF_MAX) \"$::env(PDK_ROOT)/$::env(PDK)/libs.ref/$::env(STD_CELL_LIBRARY)/techlef/$::env(STD_CELL_LIBRARY)__max.tlef\"\nset ::env(CELLS_LEF) [glob \"$::env(PDK_ROOT)/$::env(PDK)/libs.ref/$::env(STD_CELL_LIBRARY)/lef/*.lef\"]\nset ::env(GDS_FILES) [glob \"$::env(PDK_ROOT)/$::env(PDK)/libs.ref/$::env(STD_CELL_LIBRARY)/gds/*.gds\"]\nset ::env(STD_CELL_LIBRARY_CDL) \"$::env(PDK_ROOT)/$::env(PDK)/libs.ref/$::env(STD_CELL_LIBRARY)/cdl/$::env(STD_CELL_LIBRARY).cdl\"\n\nNote: Except for libs.ref (which is standard), everything else is handled by this config file."
  },
  {
    "objectID": "slides/settingOsPdk/settingOsPdk.html#configuration-files-detail",
    "href": "slides/settingOsPdk/settingOsPdk.html#configuration-files-detail",
    "title": "Setting up an OS PDK",
    "section": "Configuration Files Detail",
    "text": "Configuration Files Detail\nSource: OpenLane Docs\n\nconfig.tcl: Common info for all SCLs under this PDK. Example\ncommon_pdn.tcl: PDN configuration.\n&lt;scl&gt;/config.tcl: SCL specific info (overrides PDK config). Example\n&lt;scl&gt;/tracks.info: Metal layer offsets and pitches (extracted from tech lef). Example\n\nFormat: &lt;layer name&gt; X|Y &lt;offset&gt; &lt;pitch&gt;\n\n&lt;scl&gt;/synth_exclude.cells: Newline-separated cell names to trim during synthesis. Example\nrcx_patterns.rules: Rules for OpenSTA. Example"
  },
  {
    "objectID": "slides/settingOsPdk/settingOsPdk.html#folder-structure",
    "href": "slides/settingOsPdk/settingOsPdk.html#folder-structure",
    "title": "Setting up an OS PDK",
    "section": "Folder Structure",
    "text": "Folder Structure\n\n\n&lt;pdk_name&gt;\n\nlibs.tech\n\nopenlane\n\nconfig.tcl\ncommon_pdn.tcl (Default PDN script)\n&lt;standard cell library&gt;\n\nconfig.tcl\ntracks.info\nno_synth.cells\ndrc_exclude.cells\n\n\n\nlibs.ref\n\nskyxxx_fd_xx_xx\n\nlef (Can contain techlef declarations)\ntechlef (Doesn’t have to be a folder)\nlib\n…"
  },
  {
    "objectID": "slides/settingOsPdk/settingOsPdk.html#execution-setting-up-xschem",
    "href": "slides/settingOsPdk/settingOsPdk.html#execution-setting-up-xschem",
    "title": "Setting up an OS PDK",
    "section": "Execution: Setting up XSchem",
    "text": "Execution: Setting up XSchem\n\nNote: The most basic way to start is skipping XSchem and using ngspice directly.\n\nChecklist:\n\nWrite libs.tech/xschemrc\nCreate symbols for relevant elements\n\nSuggest starting with nfet and pfet to try a flow.\nInvestigate sky130 symbols (open with XSchem) for reference."
  },
  {
    "objectID": "slides/settingOsPdk/settingOsPdk.html#execution-setting-up-magic",
    "href": "slides/settingOsPdk/settingOsPdk.html#execution-setting-up-magic",
    "title": "Setting up an OS PDK",
    "section": "Execution: Setting up MAGIC",
    "text": "Execution: Setting up MAGIC\nThis step also sets up DRC.\nChecklist:\n\nProcess the given stdcell lefs to create maglefs\nWrite sky130A.tcl\nWrite sky130A.tech\nWrite sky130A.magicrc\n\n\n\n\nSetting up an OS PDK"
  },
  {
    "objectID": "slides/settingOsPdk/settingOsPdk.html#whats-a-tlef",
    "href": "slides/settingOsPdk/settingOsPdk.html#whats-a-tlef",
    "title": "Setting up an OS PDK",
    "section": "What’s a TLEF?",
    "text": "What’s a TLEF?\nYou don’t actually need it! The configuration file is where you declare the tech lef.\n# Technology LEF\nset ::env(TECH_LEF) \"$::env(PDK_ROOT)/$::env(PDK)/libs.ref/$::env(STD_CELL_LIBRARY)/techlef/$::env(STD_CELL_LIBRARY)__nom.tlef\"\nset ::env(TECH_LEF_MIN) \"$::env(PDK_ROOT)/$::env(PDK)/libs.ref/$::env(STD_CELL_LIBRARY)/techlef/$::env(STD_CELL_LIBRARY)__min.tlef\"\nset ::env(TECH_LEF_MAX) \"$::env(PDK_ROOT)/$::env(PDK)/libs.ref/$::env(STD_CELL_LIBRARY)/techlef/$::env(STD_CELL_LIBRARY)__max.tlef\"\nset ::env(CELLS_LEF) [glob \"$::env(PDK_ROOT)/$::env(PDK)/libs.ref/$::env(STD_CELL_LIBRARY)/lef/*.lef\"]\nset ::env(GDS_FILES) [glob \"$::env(PDK_ROOT)/$::env(PDK)/libs.ref/$::env(STD_CELL_LIBRARY)/gds/*.gds\"]\nset ::env(STD_CELL_LIBRARY_CDL) \"$::env(PDK_ROOT)/$::env(PDK)/libs.ref/$::env(STD_CELL_LIBRARY)/cdl/$::env(STD_CELL_LIBRARY).cdl\"\n\nNote: Except for libs.ref (which is standard), everything else is handled by this config file."
  },
  {
    "objectID": "slides/settingOsPdk/settingOsPdk.html#execution-setting-up-xschem-1",
    "href": "slides/settingOsPdk/settingOsPdk.html#execution-setting-up-xschem-1",
    "title": "Setting up an OS PDK",
    "section": "Execution: Setting up XSchem",
    "text": "Execution: Setting up XSchem\nFormat example:\n 1 G {}\n 2 K {type=nmos\n 3 lvs_format=\"@spiceprefix@name @pinlist sky130_fd_pr__@model L=@L W=@W nf=@nf m=@mult\"\n 4 format=\"@spiceprefix@name @pinlist sky130_fd_pr__@model L=@L W=@W\n 5 + nf=@nf ad=@ad as=@as pd=@pd ps=@ps\n 6 + nrd=@nrd nrs=@nrs sa=@sa sb=@sb sd=@sd\n 7 + mult=@mult m=@mult\"\n 8 template=\"name=M1\n 9 W=1\n10 L=0.15\n11 nf=1 \n12 mult=1\n13 ad=\\\\\"expr('int((@nf + 1)/2) * @W / @nf * 0.29')\\\\\"\n14 pd=\\\\\"expr('2*int((@nf + 1)/2) * (@W / @nf + 0.29)')\\\\\"\n15 as=\\\\\"expr('int((@nf + 2)/2) * @W / @nf * 0.29')\\\\\"\n16 ps=\\\\\"expr('2*int((@nf + 2)/2) * (@W / @nf + 0.29)')\\\\\"\n17 nrd=\\\\\"expr('0.29 / @W ')\\\\\" nrs=\\\\\"expr('0.29 / @W ')\\\\\"\n18 sa=0 sb=0 sd=0\n19 model=nfet_01v8\n20 spiceprefix=X\n21 \"\n22 drc=\"fet_drc \\{@name\\\\\\\\\\} \\{@symname\\\\\\\\\\} \\{@model\\\\\\\\\\} \\{@W\\\\\\\\\\} \\{@L\\\\\\\\\\} \\{@nf\\\\\\\\\\}\"}"
  },
  {
    "objectID": "slides/settingOsPdk/settingOsPdk.html#xschem-as-the-virtuoso-equivalent",
    "href": "slides/settingOsPdk/settingOsPdk.html#xschem-as-the-virtuoso-equivalent",
    "title": "Setting up an OS PDK",
    "section": "XSchem as the virtuoso equivalent",
    "text": "XSchem as the virtuoso equivalent\n\nNote: The most basic way to start is skipping XSchem and using ngspice directly.\n\nChecklist:\n\nWrite libs.tech/xschem/xschemrc\nCreate symbols for relevant elements\n\nSuggest starting with nfet and pfet to try a flow.\nInvestigate sky130 symbols (open with XSchem) for reference."
  },
  {
    "objectID": "slides/settingOsPdk/settingOsPdk.html#execution-setting-up-xschem-2",
    "href": "slides/settingOsPdk/settingOsPdk.html#execution-setting-up-xschem-2",
    "title": "Setting up an OS PDK",
    "section": "Execution: Setting up XSchem",
    "text": "Execution: Setting up XSchem\nFormat example:\n 1 G {}\n 2 K {type=nmos\n 3 lvs_format=\"@spiceprefix@name @pinlist sky130_fd_pr__@model L=@L W=@W nf=@nf m=@mult\"\n 4 format=\"@spiceprefix@name @pinlist sky130_fd_pr__@model L=@L W=@W\n 5 + nf=@nf ad=@ad as=@as pd=@pd ps=@ps\n 6 + nrd=@nrd nrs=@nrs sa=@sa sb=@sb sd=@sd\n 7 + mult=@mult m=@mult\"\n 8 template=\"name=M1\n 9 W=1\n10 L=0.15\n11 nf=1 \n12 mult=1\n13 ad=\\\\\"expr('int((@nf + 1)/2) * @W / @nf * 0.29')\\\\\"\n14 pd=\\\\\"expr('2*int((@nf + 1)/2) * (@W / @nf + 0.29)')\\\\\"\n15 as=\\\\\"expr('int((@nf + 2)/2) * @W / @nf * 0.29')\\\\\"\n16 ps=\\\\\"expr('2*int((@nf + 2)/2) * (@W / @nf + 0.29)')\\\\\"\n17 nrd=\\\\\"expr('0.29 / @W ')\\\\\" nrs=\\\\\"expr('0.29 / @W ')\\\\\"\n18 sa=0 sb=0 sd=0\n19 model=nfet_01v8\n20 spiceprefix=X\n21 \"\n22 drc=\"fet_drc \\{@name\\\\\\\\\\} \\{@symname\\\\\\\\\\} \\{@model\\\\\\\\\\} \\{@W\\\\\\\\\\} \\{@L\\\\\\\\\\} \\{@nf\\\\\\\\\\}\"}"
  },
  {
    "objectID": "slides/settingOsPdk/settingOsPdk.html#xschem-symbols-like-the-cadence-symbol-view",
    "href": "slides/settingOsPdk/settingOsPdk.html#xschem-symbols-like-the-cadence-symbol-view",
    "title": "Setting up an OS PDK",
    "section": "XSchem Symbols (like the Cadence symbol view)",
    "text": "XSchem Symbols (like the Cadence symbol view)\n\n\nYou must create your own symbols (using XSchem).\nYou need to set global attributes for XSchem symbols for them to be parsed into a spice netlist properly.\nGlobal attribute example () is shown on the right (model name: nfet_1v8)\n\n 1 G {}\n 2 K {type=nmos\n 3 lvs_format=\"@spiceprefix@name @pinlist sky130_fd_pr__@model L=@L W=@W nf=@nf m=@mult\"\n 4 format=\"@spiceprefix@name @pinlist sky130_fd_pr__@model L=@L W=@W\n 5 + nf=@nf ad=@ad as=@as pd=@pd ps=@ps\n 6 + nrd=@nrd nrs=@nrs sa=@sa sb=@sb sd=@sd\n 7 + mult=@mult m=@mult\"\n 8 template=\"name=M1\n 9 W=1\n10 L=0.15\n11 nf=1 \n12 mult=1\n13 ad=\\\\\"expr('int((@nf + 1)/2) * @W / @nf * 0.29')\\\\\"\n14 pd=\\\\\"expr('2*int((@nf + 1)/2) * (@W / @nf + 0.29)')\\\\\"\n15 as=\\\\\"expr('int((@nf + 2)/2) * @W / @nf * 0.29')\\\\\"\n16 ps=\\\\\"expr('2*int((@nf + 2)/2) * (@W / @nf + 0.29)')\\\\\"\n17 nrd=\\\\\"expr('0.29 / @W ')\\\\\" nrs=\\\\\"expr('0.29 / @W ')\\\\\"\n18 sa=0 sb=0 sd=0\n19 model=nfet_01v8\n20 spiceprefix=X\n21 \"\n22 drc=\"fet_drc \\{@name\\\\\\\\\\} \\{@symname\\\\\\\\\\} \\{@model\\\\\\\\\\} \\{@W\\\\\\\\\\} \\{@L\\\\\\\\\\} \\{@nf\\\\\\\\\\}\"}"
  },
  {
    "objectID": "slides/settingOsPdk/settingOsPdk.html#xschem-symbol-metadata",
    "href": "slides/settingOsPdk/settingOsPdk.html#xschem-symbol-metadata",
    "title": "Setting up an OS PDK",
    "section": "XSchem Symbol Metadata",
    "text": "XSchem Symbol Metadata\nFormat example:\n 1 G {}\n 2 K {type=nmos\n 3 lvs_format=\"@spiceprefix@name @pinlist sky130_fd_pr__@model L=@L W=@W nf=@nf m=@mult\"\n 4 format=\"@spiceprefix@name @pinlist sky130_fd_pr__@model L=@L W=@W\n 5 + nf=@nf ad=@ad as=@as pd=@pd ps=@ps\n 6 + nrd=@nrd nrs=@nrs sa=@sa sb=@sb sd=@sd\n 7 + mult=@mult m=@mult\"\n 8 template=\"name=M1\n 9 W=1\n10 L=0.15\n11 nf=1 \n12 mult=1\n13 ad=\\\\\"expr('int((@nf + 1)/2) * @W / @nf * 0.29')\\\\\"\n14 pd=\\\\\"expr('2*int((@nf + 1)/2) * (@W / @nf + 0.29)')\\\\\"\n15 as=\\\\\"expr('int((@nf + 2)/2) * @W / @nf * 0.29')\\\\\"\n16 ps=\\\\\"expr('2*int((@nf + 2)/2) * (@W / @nf + 0.29)')\\\\\"\n17 nrd=\\\\\"expr('0.29 / @W ')\\\\\" nrs=\\\\\"expr('0.29 / @W ')\\\\\"\n18 sa=0 sb=0 sd=0\n19 model=nfet_01v8\n20 spiceprefix=X\n21 \"\n22 drc=\"fet_drc \\{@name\\\\\\\\\\} \\{@symname\\\\\\\\\\} \\{@model\\\\\\\\\\} \\{@W\\\\\\\\\\} \\{@L\\\\\\\\\\} \\{@nf\\\\\\\\\\}\"}"
  },
  {
    "objectID": "slides/settingOsPdk/settingOsPdk.html#xschem-symbol-global-attributes",
    "href": "slides/settingOsPdk/settingOsPdk.html#xschem-symbol-global-attributes",
    "title": "Setting up an OS PDK",
    "section": "XSchem Symbol Global Attributes",
    "text": "XSchem Symbol Global Attributes\n\n\nYou need to set global attributes for XSchem symbols for them to be parsed into a spice netlist properly.\nGlobal attribute example () is shown on the right (model name: nfet_1v8)\n\n 1 G {}\n 2 K {type=nmos\n 3 lvs_format=\"@spiceprefix@name @pinlist sky130_fd_pr__@model L=@L W=@W nf=@nf m=@mult\"\n 4 format=\"@spiceprefix@name @pinlist sky130_fd_pr__@model L=@L W=@W\n 5 + nf=@nf ad=@ad as=@as pd=@pd ps=@ps\n 6 + nrd=@nrd nrs=@nrs sa=@sa sb=@sb sd=@sd\n 7 + mult=@mult m=@mult\"\n 8 template=\"name=M1\n 9 W=1\n10 L=0.15\n11 nf=1 \n12 mult=1\n13 ad=\\\\\"expr('int((@nf + 1)/2) * @W / @nf * 0.29')\\\\\"\n14 pd=\\\\\"expr('2*int((@nf + 1)/2) * (@W / @nf + 0.29)')\\\\\"\n15 as=\\\\\"expr('int((@nf + 2)/2) * @W / @nf * 0.29')\\\\\"\n16 ps=\\\\\"expr('2*int((@nf + 2)/2) * (@W / @nf + 0.29)')\\\\\"\n17 nrd=\\\\\"expr('0.29 / @W ')\\\\\" nrs=\\\\\"expr('0.29 / @W ')\\\\\"\n18 sa=0 sb=0 sd=0\n19 model=nfet_01v8\n20 spiceprefix=X\n21 \"\n22 drc=\"fet_drc \\{@name\\\\\\\\\\} \\{@symname\\\\\\\\\\} \\{@model\\\\\\\\\\} \\{@W\\\\\\\\\\} \\{@L\\\\\\\\\\} \\{@nf\\\\\\\\\\}\"}"
  },
  {
    "objectID": "slides/settingOsPdk/settingOsPdk.html#overal",
    "href": "slides/settingOsPdk/settingOsPdk.html#overal",
    "title": "Setting up an OS PDK",
    "section": "Overal",
    "text": "Overal\nRun with --manual-pdk if building without ciel (the package manager).\nRequired Files:\n\nPDK Config: {pdk_root}/{pdk}/libs.tech/librelane/config.tcl\n\nSCL Config: {pdk_root}/{pdk}/libs.tech/librelane/{scl}/config.tcl"
  },
  {
    "objectID": "slides/settingOsPdk/settingOsPdk.html#most-important-requirement-config-files",
    "href": "slides/settingOsPdk/settingOsPdk.html#most-important-requirement-config-files",
    "title": "Setting up an OS PDK",
    "section": "Most important requirement: Config files",
    "text": "Most important requirement: Config files\nIn fact, little else matters because these config files point to everything that’s needed. If they’re not there, you have to make them.\n\nRequired Files:\n\nPDK Config: {pdk_root}/{pdk}/libs.tech/librelane/config.tcl\n\nSCL Config: {pdk_root}/{pdk}/libs.tech/librelane/{scl}/config.tcl"
  },
  {
    "objectID": "slides/settingOsPdk/settingOsPdk.html#magic",
    "href": "slides/settingOsPdk/settingOsPdk.html#magic",
    "title": "Setting up an OS PDK",
    "section": "MAGIC",
    "text": "MAGIC\nThis step also sets up DRC.\nChecklist:\n\nProcess the given stdcell lefs to create maglefs\nWrite sky130A.tcl\nWrite sky130A.tech\nWrite sky130A.magicrc\n\n\n\n\nSetting up an OS PDK"
  },
  {
    "objectID": "slides/settingOsPdk/settingOsPdk.html#magic-setup-checklist",
    "href": "slides/settingOsPdk/settingOsPdk.html#magic-setup-checklist",
    "title": "Setting up an OS PDK",
    "section": "MAGIC setup checklist",
    "text": "MAGIC setup checklist\nBasically, all layout and signoff-related things (except maybe logic equivalence) are done by magic TCL scripts. Checklist:\n\nProcess the given stdcell lefs to create maglefs\nWrite sky130A.tcl\nWrite sky130A.tech\nWrite sky130A.magicrc\nWrite all the custom TCL, like fillgen.\n\n\n\n\n\n\n\nNote\n\n\nI strongly recommend just copying then changing the fill and DRC scripts from the existing sky130/libs.tech/magic or ihp-sg13g2/libs.tech/magic\n\n\n\n\n\n\nSetting up an OS PDK"
  }
]